
<div id="wrapper" ng-class="{
    'sidebar-active'
            : sidebarActive, 'mobileAppliedFiltersActive' : mobileAppliedFiltersActive}" onclick="void(0);">
    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="filter-tab">
        <filter-detail name="filtersServ.globalView"></filter-detail>
    </div>
    <!-- sidebar-wrapper -->
    <!-- Page Content -->
    <div id="page-content-wrapper" class="global-bookmark">
        <div class="freezed-container">
            <!-- heading -->
            <div class="grey-background">
                <div class="container-fluid">
                    <div class="row">
                        <!--<div class="col-lg-12">
                                <span class="line-level-message error"><span class="ico-error"><span class="path1"></span><span class="path2"></span></span>This view is not valid.</span>
                        </div>
<div class="col-lg-12">
                                <span class="line-level-message success"><span class="ico-success"><span class="path1"></span><span class="path2"></span></span>This is successfull message.</span>
                        </div>
                        -->
                        <!--<div class="col-lg-12">
                            <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" template-url="templates/alert.html">{{alert.msg}}</uib-alert>
                        </div>-->
                        <!-- <div class="col-lg-12">
                            <span class="form-level-message success marginT10"><span class="ico-success"><span class="path1"></span><span class="path2"></span></span>This is a success message.</span>
                        </div>
                        <div class="col-lg-12">
                                <span class="form-level-message error marginT10"><span class="ico-danger"><span class="path1"></span><span class="path2"></span></span>This is an error message.</span>
                        </div> -->
                        <!-- <div class="col-lg-12">
                            <h1 class="marginT17 marginB15 page-heading">Total Actionable Opportunities</h1>
                        </div> -->
                        <div class="col-sm-12" ng-class="{'tabs-active' : tabsActive}" id="mainMenu" click-outside="closeMenu()" ng-if="analysis == 'analysis'">
                            <!-- tabs -->
                            <div class="current-opportunity" ng-click="toggleTabs()">
                                <a href="">
                                    <!--<span class="dollar">${{opportunities[activeTab].value|formatValue:false:false:true}}<span class="unit"></span></span>-->
                                    <span class="service">{{opportunities[activeTab].title}}</span>

                                    <span class="caret" ng-class="{'caret-reversed' : tabsActive}"></span>
                                </a>
                            </div>
                            <ul class="opportunity-tab clearfix slick-carousel">
                                <li ng-repeat="c in opportunities" ng-class="{
                                            'active'
                                                    : opportunitiesActive == c.slug, 'disabled':c.disabled}" on-finish-render="ngRepeatOpp"> <a ng-click="opportunitiesActiveToggle(c, $index);defaultWaterfall();" ng-class="{'disabled' : c.disabled}"><!--<span class="dollar">${{c.value| formatValue:false:false:true}}<span class="unit"></span></span>--> <span class="service">{{c.title}}</span></a></li>
                            </ul>
                        </div>
                        <div class="col-xs-12" ng-if="analysis == 'campaign'">
                            <h3 class="heading"><a href="#/sales/analysis/asset"><span class="ico-back-round hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span></a>
                                <span class="text" ng-show="opportunitiesActive=='drs'">Digital Ready Scorecard</span>
                                <span class="text" ng-show="opportunitiesActive=='ciscoOne'">Cisco ONE</span>
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Tabs main container -->
            <div class="filter-strip sky-blue clearfix" ng-class="{'subscription': opportunitiesActive == 'subscription'}">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 clearfix" ng-init="showShadow()">
                            <img src="images/side-shadow.5557b2c4.png" class="side-shadow"/>
                            <ul class="filter-opt sub-opt pull-left" ng-show="opportunities[activeTab].subtabs">
                                <li ng-class="{active : subopportunity == c.slug, 'disabled':c.disabled}" ng-repeat="c in opportunities[activeTab].subtabs track by $index">
                                    <!-- <a ng-if="opportunitiesActive == 'subscription' && c.title === 'Other'" ng-class="{'disabled' : c.disabled}" tooltip-placement="bottom" uib-tooltip="{{subscriptionFlag ? 'Coming Soon' :''}}">{{c.title}}
                                        <span class="glyphicon glyphicon-triangle-top" ></span>
                                    </a> -->
                                    <a ng-click="opportunitiesSubtabToggle(c.slug);defaultWaterfall();" ng-class="{'disabled' : c.disabled}">{{c.title}}
                                        <span class="glyphicon glyphicon-triangle-top"></span>
                                    </a>
                                </li>
                            </ul>
                            <a ng-click="openTotalAssetDefinition();" class="button stroke-btn pull-right marginL10" ng-if="analysis && opportunitiesActive == 'asset'"><span>Definition</span></a>
                            <a ng-click="openSubscriptionDefinition();" class="button stroke-btn pull-right marginL10" ng-if="analysis && opportunitiesActive == 'subscription'"><span>Definition</span></a>
                            <div class="total-asset-view pull-right" ng-if = "analysis != 'campaign' && subopportunity != 'as'" ng-class="{'disabled':opportunitiesView == 'performance' }">
                                <div class="change-switch">
                                    <span class="slide-view">
                                        <span>Sales Account</span>
                                        View
                                    </span>
                                    <label class="switch">
                                        <input type="checkbox" ng-model = "globalView" ng-disabled="opportunitiesView == 'performance'"ng-click="toggleGlobalView()"> <!-- changes for DE171740 -->
                                        <span class="slider round"></span>
                                    </label>
                                    <span class="slide-view global-view">
                                        <span >Global</span><br>
                                            View
                                    </span>
                                </div>
                             </div>
                            <a ng-click="openDefinition();" class="button stroke-btn pull-right marginL10" ng-if="analysis == 'campaign' && opportunitiesActive=='drs'"><span>Definition</span></a>
                            <a ng-click="openSalesKit();" class="button stroke-btn pull-right" ng-if="analysis == 'campaign' && opportunitiesActive=='drs'"><span>Sales Kit</span></a>


                            <a ng-click="openCiscoOneDefinition();" class="button stroke-btn pull-right marginL10" ng-if="analysis == 'campaign' && opportunitiesActive == 'ciscoOne'"><span>Definition</span></a>
                        <a class="button stroke-btn pull-right" ng-if="analysis == 'campaign' && opportunitiesActive == 'ciscoOne'" href="https://salesconnect.cisco.com/#/search/Cisco%2520ONE/undefined" target="_blank"><span>Sales Kit</span></a>
                            <img src="images/side-shadow.5557b2c4.png" class="side-shadow right-shad" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- filter-strip -->
            <div class="clearfix" style="position:relative;" ng-show="!$root.accessIssue || $root.accessIssue == 'nodata'">
                <div class="fade-background"></div>
                <div class="container-fluid filter-switch">
                    <!-- Opportunities/Performance switch -->
                    <div class="row">
                        <div class="flexible-div">
                            <div class="col-xs-8 col-sm-4 col-md-4 paddingR0">
                                 <ul class="filter-opt pull-left">
                                    <li class="dropdown">
                                        <a href="" id="menu-toggle" class="show-filter" ng-click="sidebarActiveToggle(true); mobileAppliedFiltersActive = false;" ng-show="!sidebarActive">
                                            <!-- <span class="ico-filter_bg count" count="{{appliedFiltersCount}}">-->
                                            <span class="ico-filter_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span><span class="opt-head"><span>Show</span> Filters</span>
                                        </a>
                                        <a href="" id="menu-toggle" class="show-filter" ng-click="sidebarActiveToggle(false);" ng-show="sidebarActive">
                                            <span class="ico-filter_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span><span class="opt-head"><span>Hide</span> Filters</span>
                                        </a>
                                    </li>
                                    <li><span class="separater"></span></li>
                                    <li class="dropdown">
                                        <!--<a href="" class="hidden-lg opt-head view-applied" ng-click="openViewApplied(); mobileAppliedFiltersActive = true;"  ng-class="{'disabled':allowGenerateCollab()}" >View Applied</a>-->
                                        <a href="" class="hidden-lg opt-head view-applied" ng-click="openViewApplied(); mobileAppliedFiltersActive = true;">View Applied</a>
                                         <a href="" ng-click = "openViewApplied(appliedFilters)" class="visible-lg opt-head view-applied">View Applied ({{appliedFiltersCount}})</a>

                                    </li>
                                    <li>
                                        
                                    </li>
                                </ul>
                                <ul ng-if="showBackButton" class="filter-opt pull-left">
                                    <li>
                                        <span class="separator"></span>
                                    </li>
                                    <li ng-click="backButton()"  >
                                        
                                        <a href="" id="menu-toggle" class="back-Performance">
                                            <span class="ico-back_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span><span class="opt-head" ng-if="!sidebarActive"><span>Back to </span>Performance</span>
                                        </a>
                                    </li>
                                </ul>

                            </div>
                            <div class="col-xs-12 col-sm-4 col-md-4 padding0" ng-if="analysis == 'analysis' && dashboard != 'services'">
                                <ul class="opp-per-list" ng-if="opportunitiesActive !== 'asset'">
                                    <li class="left-tab" ng-class="{'active': opportunitiesView == 'opportunities'}">
                                        <a ng-click="opportunitiesViewToggle('opportunities');">Opportunities</a>
                                    </li>
                                    <li class="right-tab" ng-class="{'active': opportunitiesView == 'performance' && !globalView, 'disabled' : performanceDisabled() || filtersServ.globalView}">
                                        <a ng-click="opportunitiesViewToggle('performance');defaultWaterfall();" ng-class="{'disabled' : performanceDisabled() || filtersServ.globalView}" ng-if="canAccessTab(dashboard, analysis, opportunitiesActive, subopportunity, 'performance')" tooltip-placement="bottom" uib-tooltip = "{{subscriptionFlag? 'Coming Soon' :''}}">Performance</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-xs-4 col-sm-4 col-md-4 paddingL0" ng-class="{'col-sm-offset-4': analysis != 'analysis'}">
                                <ul class="filter-opt pull-right">
                                    <li class="save-bookmark" ng-if="bHideFilterStrip && analysis!='campaign' && false">
                                            <div class="view-tile">
                                                <ul>
                                                    <li class="active"><a href=""><span class="ico-tile"></span></a></li>
                                                    <li><a href=""><span class="ico-list"></span></a></li>
                                                </ul>   
                                            </div>
                                    </li>
                                    <li ng-show="newBookmarkSaved" class=" success save-bookmark"><a href="" class="bookmark-hvr"><span class="ico-confirmation"></span>{{currBookmark !=null?'Updated':'Saved'}}</a></li>
                                    <li  ng-show="!newBookmarkSaved" class="save-bookmark"><a href="" ng-class="{'disable': isCampaigns || (currBookmark !=null && !isFiltersChanged )}" class="bookmark-hvr active" ng-click="(currBookmark !=null)?openSaveBookmarkModal(currBookmark):openSaveBookmarkModal()"><span class="ico-bookmark_pressed"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>{{currBookmark==null || currBookmark.createdBy != userData.user.fullName?'Save':'Update'}}<br> Bookmark</a></li>
                                </ul>

                                <!--<a href="" class="save-book pull-right"><span class="ico-bookmark"></span><span class="bookmark-txt">Save <br>Bookmark</span></a>-->
                                <div  class="list-filter filter-list pull-right" ng-hide="opportunitiesActive == 'all' || opportunitiesView == 'performance'">
                                    <ul class="opp-per-list">
                                        <li class="left-tab" uib-tooltip = "{{subopportunity? tooltips[opportunitiesActive][subopportunity].list :tooltips[opportunitiesActive].list}}" ng-click="listDisabled ? angular.noop():isListOrNet = 'list'" ng-class="{active: isListOrNet == 'list', disabled: listDisabled}"><a href="">$List</a></li>
                                        <li class="right-tab" uib-tooltip = "{{subopportunity? tooltips[opportunitiesActive][subopportunity].net :tooltips[opportunitiesActive].net}}" ng-click="netDisabled ? angular.noop():isListOrNet = 'net'" ng-class="{active: isListOrNet == 'net', disabled: netDisabled}"><a href="">$Net</a></li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Global-bookmarks-Strip -->
        <div class="global-bookmarks-strip clearfix" ng-show="isBookmarkActive()">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12 clearfix">
                        <div class="col-sm-6 paddingL0 paddingR0">
                            <h3 class="heading">
                                <span class="text">{{whichBookmark}}</span>
                                <a href="" ng-click="clearBookmark('reloadPage')">Clear Bookmark</a>
                            </h3>
                        </div>
                        <div class="col-sm-6 view-link paddingL0 paddingR0 hidden-xs"
                            ng-class="{'view-bookmark-changed':isFiltersChanged}">
                            <ul class="globalBookmark-view-link">
                                <li ng-show="currBookmark.urlDetails.additionalInfo && (currBookmark.isGlobal || currBookmark.isRegional)">
                                    <a target="_blank" href="{{currBookmark.urlDetails.additionalInfo}}"><span>More Info</span></a>
                                </li>
                                <li ng-show="currBookmark.urlDetails.additionalInfo  && (currBookmark.isGlobal || currBookmark.isRegional)"><span class="separator"></span></li>
                                <li>
                                    <a ng-click="openBookmarksDefinition(currBookmark);"><span>View Definition</span></a>
                                </li>
                                <li  ng-show="currBookmark.urlDetails.salesHub && (currBookmark.isGlobal || currBookmark.isRegional)"><span class="separator"></span></li>
                                <li ng-show="currBookmark.urlDetails.salesHub && (currBookmark.isGlobal || currBookmark.isRegional)">
                                    <a target="_blank" href="{{currBookmark.urlDetails.salesHub}}"><img src="images/SalesConnect.7632dc67.svg"><span>View in Sales Hub</span></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bookmark-criteria slideInRight animated" ng-show="isFiltersChanged">
                <span class="ico-confirmation"></span>
                Bookmark criteria<br> has been changed.
            </div>
        </div>
        <!-- Global-bookmarks-Strip -->
        <!-- freezed-container -->
        <div class="opptabs overlay"></div>
        <!-- <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="page-level-msg error">
                        <div class="error-ico"><span class="ico-error"><span class="path1"></span><span class="path2"></span></span>
                            <img class="shadow-img" src="images/shadow.b8727004.svg" alt=""/></div>
                        <span class="eror-msg"><span class="red"> Error!</span> Page you are looking for is not available</span>
                    </div>
                </div>
            </div>
        </div> -->
    <!-- Changes for showing the popup when navigating to subscription tab -->
        <div class="container-fluid" ng-if="!filtersServ.subscriptionPopupFlag"  ng-class="filtersServ.disableSubscriptionAlertMsg?'visible':'hidden'">
            <div class="row">
                <div class="col-lg-12 opportunity">
                    <div class="information-msg">
                        <span class="icon-info-circle"><span class="path1"></span><span class="path2"></span></span><span class="title">Asset Type and Architecture Group filters have been changed to match the view.</span>
                        <a href="javascript:void(0);" ng-click="hideSubscriptionAlertMsg(true)" title="Do not show again" class="pull-right">Do not show again</a>
                    </div>
                </div>
            </div>
        </div>
         <div class="container-fluid" ng-show="subopportunity == 'as'">
            <div class="row">
                <div class="col-lg-12 renew">
                    <div class="disclaimer-msg">
                        <span class="ico-danger"><span class="path1"></span><span class="path2"></span></span><span class="title"><strong>Disclaimer</strong></span>
                        <ul>
                            <li><span> AS Renew is in pilot phase, hence the Total Renew tab does not include AS Renew data.</span></li>
                            <li><span> Data is preliminary and will be validated with pilot users.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 renew">
                    <div class="disclaimer-msg">
                        <span class="ico-danger"><span class="path1"></span><span class="path2"></span></span><span class="title"><strong>Disclaimer</strong></span>
                        <ul>                            
                            <li><span> We are currently working to address issues impacting Cisco Ready Connected Experience. Some users may experience decreased performance until these issues are resolved</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div> -->
       
        <div class="container-fluid tabContent">
               
            <!-- Tab content -->
            <div class="opportunities-col {{opportunitiesActive}}">
                  
                <div class="row" ng-show="!$root.accessIssue">
                    <!-- opportunity-tile -->
                    <div class="col-xs-12 lg-tile-head col-sm-6 kpi kpi_{{$index}} chart_{{c.type}}" id ="kpi_{{$index}}chart_{{c.type}}" ng-repeat="c in tiles| orderBy:'-expanded'" ng-class="{'col-lg-4' : !sidebarActive, 'col-lg-6' : sidebarActive, 'expanded' : c.expanded, 'accountManagerList' : c.isAccountManagerList}" ng-init="setColumnLength(c,i); c.viewType = 'chart'; c.activeCategory = c.activeCategory?c.activeCategory:0; c.isPercent = CiscoUtilities.isPercent(c); isAccountManagerList(c);" style="visibility: hidden;" on-finish-render="ngRepeatFinished">
                        <div class="opportunity-tile" ng-if="c.info">
                            <div class="tile-head-area">
                                <h5>
                                    <span class="tile-heading" uib-dropdown ng-if="c['data-key']!= 'attachPerfBenchmark'"><!-- DE145949 --><!-- DE147287 drop down should not appear in case of swiss attach performance-->
                                        <!-- <a href uib-dropdown-toggle ng-if="(c['categories-main'][c['categories-main'].length-1].indexOf('Account Managers')) > -1 ? (c.categories.length > 1 && !tilesAccounts) : (c.categories.length > 1)" ng-class="{'single-category': false}">
                                             {{c.categories[c.activeCategory]}} <span class="caret" ng-if="c.categories.length > 1"></span>
                                        </a> -->
                                        <!-- Need to validate the condition -->
                                        <a href uib-dropdown-toggle class="single-category" ng-if="tilesAccounts.length <= 1">
                                            {{c.title}}
                                        </a> 
                                        <ul class="dropdown-menu categories" uib-dropdown-menu ng-if="c.categories.length > 1">
                                            <i class="tipsy"></i>
                                           
                                            <li ng-repeat="h in c.categories">
                                                <a href ng-click="selectCategory(c, $index);" ng-class="{'active' : c.activeCategory == $index}">{{h}}</a>
                                            </li>
                                        </ul>
                                    </span>
                                    <span class="info-icon" popover-title="{{c.title}}" uib-popover-html="c.description" ng-if="c.description"></span>
                                    <span class="info-icon" popover-title="{{c.categories?c.tooltip_titles[c.activeCategory]:c.title}}" uib-popover-html="c.descriptions[c.activeCategory]" ng-if="c.descriptions"></span>
                                </h5>
                                <div class="tile-size-icon" ng-show="c.info == 'nodata'">
                                    <div class="inline">
                                        <span uib-tooltip="Expand" tooltip-trigger="{{tooltipTrigger}}" class="ico-expand_tile_bg" ng-click="expand(c, $index, opportunitiesActive);" ng-if="!c.expanded && showExpandCollapse(c)"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                        <span uib-tooltip="Collapse" tooltip-trigger="{{tooltipTrigger}}" class="ico-collapse_tile_bg" ng-click="collapse(c, $index);" ng-if="c.expanded && showExpandCollapse(c)">
                                            <span class="path1"></span><span class="path2"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="page-level-msg error" ng-show="c.info=='nodata' && c.categories[c.activecategory] !== 'SFDC Booked Deals'">
                                <div class="error-ico">
                                    <img class="nodata" src="images/nodata.d25a050a.svg" alt="" />
                                </div>
                                <span class="error-msg">No Data Available!</span>
                                <spanclass="grey-text">Currently, there is no data available for your selection.</span>
                            </div>
                            <div class="page-level-msg error" ng-show="c.info=='nodata' && c.categories[c.activecategory] === 'SFDC Booked Deals'">
                                <div class="error-ico">
                                    <img class="no-data-tile" src="images/nodata.d25a050a.svg" alt="" />
                                </div>
                                <span class="error-msg">No Booked Deals!</span>
                                <spanclass="grey-text">Currently, there is no booked deal in SFDC.</span>
                            </div>
                            <div class="page-level-msg error" ng-show="c.info=='future'">
                                <div class="error-ico">
                                    <img class="error-icon" src="images/error-icon.e486b851.svg" alt="" />
                                </div>
                                <span class="error-msg"><b>Content not available!</b></span>
                                <span class="grey-text"><b>This feature will be available in may release.</b></span>
                            </div>
                        </div>
                        <div class="opportunity-tile quarters_refresh" ng-show="!c.info">
                            <div class="tile-head-area sm-tile-head">
                                <h5>
                                       
                                    <span class="tile-heading" uib-dropdown>
                                    <!-- Change for DE127858 -->
                                        <a href uib-dropdown-toggle ng-if="(c.categories.length > 1)" ng-class="{'single-category': ((c['categories-main'][c['categories-main'].length-1].indexOf('Account Managers')) > -1 ? tilesAccounts : false)}"><!-- DE141874 -->
                                        {{c.categories[c.activeCategory] | limitTo:titleLimit}}{{c.categories[c.activeCategory].length > titleLimit ? '...' : ''}} <span class="caret" ng-if="(c['categories-main'][c['categories-main'].length-1].indexOf('Account Managers')) > -1 ? (c.categories.length > 1 && !tilesAccounts) : (c.categories.length > 1)"></span><!--change for DE141236-->
                                        </a>
                                       
                                        <!-- <a href uib-dropdown-toggle ng-if="c.categories && tilesAccounts" ng-class="{'single-category': false}">
                                            Opportunities by Customer <span class="caret" ng-if="c.categories.length > 1"></span>
                                        </a> -->
                                        <a href uib-dropdown-toggle class="single-category" ng-if="(!c.categories || c.categories.length === 1 || c.categories.length === 0 || (c.type == 'line_chart_rr' && !c.categories.length > 1))">
                                                {{c.title | limitTo:titleLimit}}{{c.title.length > titleLimit ? '...' : ''}}
                                        </a>
                                       
                                        <!-- SunitaYadav  added class of animated fadeIn -->
                                        <ul class="dropdown-menu animated fadeIn categories" uib-dropdown-menu ng-if="(c['categories-main'][c['categories-main'].length-1].indexOf('Account Managers')) > -1 ? (c.categories.length > 1 && !tilesAccounts) : (c.categories.length >= 1)"><!-- changes for DE133541 and DE132186 -->
                                           
                                            <i class="tipsy"></i>
                                            <li ng-repeat="h in c.categories">
                                                <a href ng-click="selectCategory(c, $index, $parent.$index);" ng-class="{'active' : c.activeCategory == $index}">{{h}}</a>
                                            </li>
                                        </ul>
                                    </span>
                                    <!-- Start: icon  -->
                                    <span class="info-popover" ng-init="c.popoverOpened=false" ng-mouseover="c.popoverOpened=true" ng-mouseleave="c.popoverOpened=false" ng-if="c.description">
                                        <span popover-title="{{c.tooltip}}" uib-popover-html="c.description"  popover-append-to-body="false" popover-trigger="none" popover-class="tile-popover" popover-placement="top" popover-is-open="c.popoverOpened">
                                            <span class="info-icon"></span>
                                        </span>
                                    </span>
                                    <span class="info-popover" ng-init="c.popoverOpened=false" ng-mouseover="c.popoverOpened=true" ng-mouseleave="c.popoverOpened=false" ng-if="c.descriptions.length && opportunitiesActive !== 'subscription'">
                                        <span popover-title="{{c.categories?c.categories[c.activeCategory]:c.title}}" uib-popover-html="c.descriptions[c.activeCategory].value?c.descriptions[c.activeCategory].value:c.descriptions" popover-append-to-body="false"
                                            popover-trigger="none" popover-class="tile-popover" popover-placement="top" popover-is-open="c.popoverOpened">
                                            <span class="info-icon" ></span>
                                        </span>
                                    </span>
                                     <!-- End: icon  -->
                                </h5>
                                <div class="tile-size-icon">
                                    <div class="inline">
                                        <span class="dropdown more-options action" ng-class="{'customers-options':allowCustomerReport(c)}" ng-if="(c.type == 'line_chart_rr' && c.expanded) || (c.expanded && c.viewType == 'list') ||c.viewType != 'list' || allowSmartReport(c) || allowCustomerReport(c)|| inventoryReport(c)"><span class="ico-download_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                        <ul class="dropdown-menu" ng-if="!hideoptionSymbols">
                                            <i class="tipsy"></i>
                                                        <li ng-if="allowSmartReport(c)" class="clearfix no-border">
                                                    <a href="javascript:void(0);"
                                                        ng-class="{'disabled':disableRequestReport(c)  || checkBoxCount(c)|| linecountselected >= 300000}"
                                                        ng-click="openRequestReport(c.checkedstates, 'Request Smart IB Report')">Request Smart IB Report {{checkBoxCount(c) ? ' (Select only one Customer)' : '' }}<span class="head-desc">Smart IB report contains ALL customer data, with no other filters taken into account. Maximum 300k lines can be selected.</span>
                                                           <span class="pull-right table-unit" ng-show="linecountselected > 0 && linecountselected <= 300000">{{linecountselected | formatGridValue}} out of 300K lines selected for download</span>
                                                           <span class="pull-right table-unit line-counts error-count" ng-show="linecountselected > 300000">
                                                               <span class="ico-danger">
                                                                   <span class="path1"></span><span class="path2"></span>
                                                               </span>
                                                               <span class="text-warning">{{linecountselected | formatGridValue}} out of 300K lines selected for download</span>
                                                           </span></a>
                                                    </li>                                                    
                                                    <li ng-if="inventoryReport(c)">
                                                        <a href="javascript:void(0);"
                                                           ng-class="{'disabled':disableRequestReport(c)}"
                                                           ng-click="openRequestReport(c.checkedstates , 'Request IB Inventory Report')">{{salesReport()}} </a></li>
                                                    <li ng-if="allowCustomerReport(c);" class="clearfix">
                                                    <a href="javascript:void(0);"
                                                        ng-click="openRequestReport(c.checkedstates, 'Request Customer Detail Report')"
                                                           ng-class="{'disabled':disableRequestReport(c)}">{{requestText()}}<span class="head-desc">Customer Detail report contains ONLY data based on all filters applied. Maximum 500k lines can be selected</span>
                                                           <span class="pull-right table-unit" ng-show="linecountselected > 0 && linecountselected <= 500000">{{linecountselected | formatGridValue}} out of 500K lines selected for download</span>
                                                           <span class="pull-right table-unit line-counts error-count" ng-show="linecountselected > 500000">
                                                               <span class="ico-danger">
                                                                   <span class="path1"></span><span class="path2"></span>
                                                               </span>
                                                               <span class="text-warning">{{linecountselected | formatGridValue}} out of 500K lines selected for download</span>
                                                           </span></a></li>
                                                    <li ng-if="allowGenerateCollab(c) && allowCustomerReport(c);">
                                                        <a href="javascript:void(0);"
                                                           ng-class="{'disabled': disableCollabRequest(c) || checkBoxCount(c)}"
                                                           ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal {{checkBoxCount(c) ? ' (Select only one Customer)' : '' }}</a></li>
                                                           <li ng-if="(c.type == 'line_chart_rr' && c.expanded) || (c.expanded && c.viewType == 'list')">
                                                                <a href="" id="{{activeCategoryForCSV}}" ng-click="csvDownload($event,c);">Download CSV File</a></li>
                                                <li ng-if="c.viewType !== 'list' && c.type !== 'bar_stacked_horizontal' && c.type !=='bar_stacked_double_horizontal' && c.type !== 'square_block' && c.type !== 'bar_double_horizontal' && c.type !=='bar_double_horizontal_drs'">
                                                <a href="javascript:void(0);"
                                                   ng-click="downloadNonScrollbarCharts(c,$index);">Download Charts</a></li>
                                        <li ng-if="c.viewType !== 'list' && (c.type === 'bar_stacked_horizontal' || c.type === 'bar_stacked_double_horizontal' || c.type === 'square_block' || c.type === 'bar_double_horizontal_drs' || c.type === 'bar_double_horizontal')">
                                                <a href="javascript:void(0);"
                                                   ng-class="{'disabled':disableDownloadChart(c)}"
                                                   ng-click="downloadCharts(c,$index);"
                                                   class="clearfix download-chart">Download Charts {{checkBoxCount(c) ? ' (Select only 4 bars)' : '' }}
                                                    <span class="head-desc">Select up to 4 bars to download in a single image.</span>
                                                    <span class="pull-right table-unit"
                                                          ng-show="c.checkedstates.length > 0 && c.checkedstates.length < 5">{{c.checkedstates.length}} out of {{c.filtered.length}} bars selected for download</span>
                                                    <span class="pull-right table-unit line-counts error-count"
                                                          ng-show="c.checkedstates.length >= 5">
                                                    <span class="ico-danger">
                                                        <span class="path1"></span><span
                                                            class="path2"></span>
                                                    </span>
                                                    <span class="text-warning">{{c.checkedstates.length}} out of {{c.filtered.length}} bars selected for download</span>
                                                </span>
                                                </a>
                                        </li>
                                            </ul>
                                        </span>

                                        <a href="{{c.link}}" target="_blank" class="link-icon" data-ng-if="c.link"><span uib-tooltip="Request Detailed AR Reports" tooltip-trigger="{{tooltipTrigger}}" class="ico-copy-link_bg" ><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span></a>
                                        <span uib-tooltip="Expand" tooltip-trigger="{{tooltipTrigger}}" class="ico-expand_tile_bg" ng-click="expand(c, $index, opportunitiesActive);" ng-if="!c.expanded && showExpandCollapse(c)"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                        <span uib-tooltip="Collapse" tooltip-trigger="{{tooltipTrigger}}" class="ico-collapse_tile_bg" ng-click="collapse(c);" ng-if="c.expanded && showExpandCollapse(c)">
                                        <span class="path1 hvr-icon-pop"></span><span class="path2"></span>
                                        </span>
                                        <span uib-tooltip="List View" tooltip-trigger="{{tooltipTrigger}}" class="ico-list_bg" ng-init="moveScrollToBottom()" ng-if = "c.type != 'line_chart_rr' || (c.expanded && showExpandCollapse(c))" ng-click="toggleViewType(c, 'list');" ng-class="{'active' : c.viewType == 'list'}"><span class="path1 hvr-icon-pop"></span><span class="path2"></span><span class="path3"></span></span>

                                        <span uib-tooltip="Graph View" tooltip-trigger="{{tooltipTrigger}}" ng-click="toggleViewType(c, 'chart');" ng-class="{'ico-bar_graph_bg': c.type == 'bar' || c.type == 'bar_target'|| c.type == 'bar_double' || c.type == 'bar_stacked', 'ico-hor-chart_bg': c.type == 'bar_stacked_horizontal' || c.type == 'bar_double_horizontal' || c.type == 'bar_double_horizontal_drs' || c.type == 'bar_stacked_double_horizontal'|| c.type == 'square_block', 'ico-line-chart_bg' : c.type == 'line', 'ico-waterfall_bg' : c.type == 'line_chart_rr', 'ico-donut_graph_bg' : c.type == 'pie', 'active' : c.viewType == 'chart'}"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                        <!--<span uib-tooltip="Request Report" tooltip-trigger="{{tooltipTrigger}}" class="ico-report" ng-if="allowReportRequest(c);">
                                        <span class="path1 hvr-icon-pop"></span><span class="path2"></span>
                                    </span>-->
                                    </div>
                                </div>

                                <!--baljinderKaur -  Added dropdowns for Renewal Rate Progression: Add Quarters-->
                                <div class="clearfix"  ng-init="initializeLineChartRR(c);"
                                    ng-if="c.rr_categories.length > 1 && c.type == 'line_chart_rr' && c.viewType == 'chart'">
                                    <span uib-dropdown class="add-quarters">
                                        <a href uib-dropdown-toggle>
                                            Add Quarters <span class="caret"></span>
                                        </a>
                                        <ul class="dropdown-menu categories" uib-dropdown-menu>
                                            <i class="tipsy"></i>
                                            <li ng-repeat="d in c.data_set">
                                                <div class="form-group dropdown-with-checkbox">
                                                     <input ng-init="addQuarters(c, selectedQuarter);checkQuarters(c);" ng-model="c.checked[d.state]" type="checkbox" id="quartersCheckbox_{{d.state}}" ng-click="checkQuarters(c,true)"> <!-- Changes for DE158089 -->
                                                    <label for="quartersCheckbox_{{d.state}}" class="control-label"><span></span>{{d.state}}
                                                        {{opportunitiesActive == "attach" ? 'AR' : 'RR'}}
                                                    </label>
                                                </div>
                                            </li>
                                        </ul>
                                    </span>
                                </div>

                                <div class="form-group text-right tile-checkbox" ng-if="false">
                                    <input type="checkbox" id="globalCheckbox">
                                    <label for="globalCheckbox" class="control-label"><span></span>Include Distributors</label>
                                </div>
                            </div>

                           <div class="form-group text-right tile-checkbox" ng-if="showSelectedMonthText(c)">
                                <span class="pull-right table-unit">Selected Month: {{selectedCorporateMonth}}</span>
                            </div>

                            <div class="clearfix right-fix" ng-if="yoyLineChart(c) && c.viewType == 'list'">
                                <span class="pull-right table-unit">Showing data for: {{filtersServ.selectedSalesValueForDrill ? filtersServ.selectedSalesValueForDrill : c.keys[0]}} </span>
                            </div>

                            <div class="form-group text-right tile-checkbox" ng-if="(['Other Subscription by Contract/Term Expiry- FQ', 'Other Subscription by Contract/Term Expiry- FM', 'Other Subscription by Contract/Term Expiry- FY', 'Security Subscription by Contract/Term Expiry- FQ', 'Security Subscription by Contract/Term Expiry- FM', 'Security Subscription by Contract/Term Expiry- FY', 'Collab Subscription by Contract/Term Expiry- FQ', 'Collab Subscription by Contract/Term Expiry- FM', 'Collab Subscription by Contract/Term Expiry- FY'].includes(c.title)) && opportunitiesActive == 'subscription'">
                                <input type="checkbox" id="auto-renewals" ng-model="autoRenewalStatus" ng-change="clickAutoRenewalCheckbox(autoRenewalStatus)">
                                <label for="auto-renewals" class="control-label"><span></span>Include auto-renewals</label>
                            </div>
                            <div class="right-fix mqy" ng-if="c.showFiscalData && c.viewType == 'chart'">
                                <ul>
                                    <li ng-class="{'active': c.selectedFiscal == fiscal}"
                                        ng-repeat="fiscal in c.showFiscalData" ng-click="toggleFiscalSelection(c, fiscal)">
                                        <a href="">{{fiscal}}</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="left-fix select-text">
                                <div class="form-group text-left" ng-if="allowReportRequest(c) && c.viewType === 'chart'">
                                   <a ng-click="selectAllCheckboxes(c)" ng-if="!c.renderGraphForSelectAll">Select All</a>
                                   <a ng-click="deselectAllCheckboxes(c)" ng-if="c.renderGraphForSelectAll">Deselect All</a>
                                </div>
                            </div>
                            <div class="clearfix right-fix" ng-if="allowReportRequest(c)">
                                        <span class="pull-right table-unit" ng-show="linecountselected == 0">0 lines have been selected</span>
                                        <span class="pull-right table-unit" ng-show="linecountselected > 0 && linecountselected <= 500000">{{linecountselected | formatGridValue}} lines have been selected for download</span>
                                        <span class="pull-right table-unit line-counts error-count" ng-show="linecountselected > 500000">
                                            <span class="ico-danger">
                                                <span class="path1"></span><span class="path2"></span>
                                            </span>
                                            <span class="text-warning">{{linecountselected | formatGridValue}} lines have been selected for download</span>
                                        </span>
                            </div>
                            <div class="usd-value usd-value-tab ng-hide">Price shown in USD</div>
                            <!-- <ul class="opp-filter clearfix">
                                <li ng-repeat="(key, t) in c.tabs" ng-init="c.data = c.tabs[getFirstKey(c.tabs)]; c.activeTab = getFirstKey(c.tabs);" ng-class="{'active' : c.activeTab == key}"><a href="" ng-click="c.data = t; c.activeTab = key;">{{key}}</a></li>
                            </ul> -->
                            <span class="activeDrill lgTxtDrill" ng-if="c.type == 'line_chart_rr' && pieActiveDrill" ng-click="$parent.$parent.pieActiveDrill = false; chartToParent(c, 0);"><span class="ico-left-arrow-sm hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span></span></span>
                            <span class="activeDrill" ng-if="(c.type == 'pie' || c.type == 'bar_double_horizontal_drs' || c.type == 'line') && pieActiveDrill" ng-click="$parent.$parent.pieActiveDrill = false; resetChartFilters(); getData();"><span class="ico-left-arrow-sm hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span>{{pieActiveDrill}}</span></span>
                            <span class="activeDrill" ng-if="c.type == 'bar_double' && campActiveDrill" ng-click="campActiveUndrill(c);"><span class="ico-left-arrow-sm hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span>{{campActiveDrill}}</span></span>
                            <span class="activeDrill" ng-if="(c.type == 'bar_target' ) && filtersServ.selectedSalesValueForDrill" ng-click="unDrillToPreviousSalesLevel(filtersServ.selectedSalesValueForDrill)"><span class="ico-left-arrow-sm hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span>{{filtersServ.selectedSalesValueForDrill}}</span></span>
                            <!-- <span class="activeDrill" ng-if="isAccountSelected() && (c.type == 'bar_double_horizontal' || (c.type == 'bar_stacked_horizontal' && opportunitiesActive == 'all') || (c.type == 'bar_stacked_horizontal' && opportunitiesActive == 'attach') ||(c.type == 'bar_stacked_horizontal' && opportunitiesActive == 'renew' && opportunitiesView != 'performance') || c.type == 'bar_stacked_double_horizontal' || (c.type == 'bar_stacked_horizontal' && opportunitiesActive == 'ciscoOne'));" ng-click="undrillAccountManager(c);"><span class="ico-left-arrow-sm hvr-icon-pop"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span>Opportunities by Account Managers</span></span> -->
                            <div ng-show="c.type !== 'table'">
                                <div class="tile" ng-show="c.viewType == 'chart'">
                                    <bar-chart has-sub="c.hasSub" pieactivedrill="$parent.$parent.pieActiveDrill" data="(isListOrNet === 'list')?c.data:c.data_net" slug="opportunitiesActive" subslug="subopportunity" view="opportunitiesView" colors="colorsList" uniquekey="c.unique_key" columns="c.columns" expanded="c.expanded" sidebar="sidebarAnimated" percent="c.isPercent" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" currentmonth="currentMonth" currentquarter="currentQuarter" currentyear="currentYear" selectedquarter="$parent.$parent.selectedQuarter" 
                                    selection-title="c.categories[c.activeCategory]? c.categories[c.activeCategory]:c.title" activecategory="c.activeCategory" rotate-xaxis-text="rotateXaxisText(c)" selected-corporate-month="$parent.$parent.selectedCorporateMonth" reload-list-view-data="setListKeys(c)" ng-if="c.type == 'bar'" />
                                    <bar-chart-target has-sub="c.hasSub" pieactivedrill="$parent.$parent.pieActiveDrill" data="(isListOrNet === 'list')?c.data:c.data_net" colors="colorsList" uniquekey="c.unique_key" view="opportunitiesView" slug="opportunitiesActive" columns="c.columns" expanded="c.expanded" sidebar="sidebarAnimated" percent="c.isPercent" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" currentmonth="currentMonth" currentquarter="currentQuarter" currentyear="currentYear" selectedquarter="$parent.$parent.selectedQuarter" selection-title="c.categories[c.activeCategory]" activecategory="c.activeCategory" showtarget="showTargetLine(c)" selected-corporate-month="$parent.$parent.selectedCorporateMonth" reload-list-view-data="setListKeys(c)"  has-next-sales-level="c.hasNextSalesLevel" selected-sales-value-for-drill="drillToNextSalesLevel" ng-if="c.type == 'bar_target'" />
                                    <bar-double-chart data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" colors="colorsList" columns="c.columns" expanded="c.expanded" viewtype="c.viewType" filtered="c.filtered" sidebar="sidebarAnimated" viewtype="c.viewType" filtered="c.filtered" percent="c.isPercent" campactivedrill="$parent.$parent.campActiveDrill" updated="c.updated" area="$parent.$parent.areaActive" ng-if="c.type == 'bar_double'" ng-init="normalizeDC(c);" />

                                    <bar-double-horizontal-chart copytodom ="copytodom"  selectedbars ="selectedbars" selection-title="c.categories[c.activeCategory]" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" colors="colorsList" columns="c.columns" sidebar="sidebarAnimated" expanded="c.expanded" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" percent="c.isPercent" activecategory="c.activeCategory" isaccountmanagerlist="c.isAccountManagerList" drillaccountmanager="drillAccountManager(arg1, arg2, c)" active-opp="CiscoUtilities.getTileActiveOpp(c.categories[c.activeCategory])" ng-if="c.type == 'bar_double_horizontal'" ng-init="normalizeDHC(c);" selectionenabled="isChartClickable(c)" selectionenabledarea="isAreaClickable(c)" action="showActionsDropdown(c)" checkedstates="c.checkedstates" allowreports="allowReportRequest(c)"  linecount="c.lineCount"  listamount ="c.listAmount" linecountselected = "$parent.$parent.linecountselected" listamountselected = "$parent.$parent.listamountselected"/>
                                    <bar-double-horizontal-drs-chart copytodom = "copytodom"has-sub="c.hasSub" pieactivedrill="$parent.$parent.pieActiveDrill" selection-title="c.categories[c.activeCategory]" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" productfamily="(isListOrNet === 'list')?c.productfamilylist:c.productfamilynet" filteredproductfamily ="c.filteredproductfamily" colors="colorsList" columns="c.columns" sidebar="sidebarAnimated" expanded="c.expanded" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" percent="c.isPercent" activecategory="c.activeCategory" isaccountmanagerlist="c.isAccountManagerList" drillaccountmanager="drillAccountManager(arg1, arg2, c)" active-opp="CiscoUtilities.getTileActiveOpp(c.categories[c.activeCategory])" ng-if="c.type == 'bar_double_horizontal_drs'" selectionenabled="isChartClickable(c)" selectionenabledarea="isAreaClickable(c)" action="showActionsDropdown(c)" allowreports="allowReportRequest(c)" checkedstates="c.checkedstates"/>


                                    <bar-stacked-chart selectionenabled="isChartClickable(c)" selection-title="c.title" pieactivedrill="$parent.$parent.pieActiveDrill" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" subslug="subopportunity" view="opportunitiesView" subtab="getActiveSubTab()" sld-data="c.sldData" data = "(dashboard === 'services')?c.sldData : (isDrs ?((c.activeCategory === 0) ?((isListOrNet === 'list') ? c.shipment_data.data : c.shipment_data.data_net) : c.sfdc_data):(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net))" title="" productfamily="(isListOrNet === 'list')?c.productfamilylist:c.productfamilynet" filteredproductfamily ="c.filteredproductfamily" quarterheadership="c.quarterheadership" sfdcbookingsdata="c.sfdcbookingsdata" sfdcbookingsquarterdata="c.sfdcbookingsquarterdata" colors="colorsOpp" columns="c.columns" expanded="c.expanded" viewtype="c.viewType" filtered="c.filtered" sidebar="sidebarAnimated" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive"
                                    selected-water-fall-quarter="selectedQuarterFromWaterFallChart" quarters="c.quarters" area="$parent.$parent.areaActive"  currentMonth="c.currentMonth" currentquarter="c.currentQuarter" currentyear="c.currentYear" percent="c.isPercent" campactivedrill="$parent.$parent.campActiveDrill" expandeddata = "(isListOrNet === 'list')?c.savAccountsList:c.savAccountsNet" filteredexpandeddata = "c.filteredexpandeddata" selectionenabledarea="isQuarterClickable()" customorder="c.customorder" selectedsublegend="$parent.$parent.selectedsublegend" ng-if="c.type == 'bar_stacked'" drssfdclistview="drsShipListView" selectedlegend="$parent.$parent.selectedlegend"/>


                                    <bar-stacked-double-horizontal-chart copytodom = "copytodom" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" colors="colorsOpp" columns="c.columns" sidebar="sidebarAnimated" expanded="c.expanded" expandeddata = "(isListOrNet === 'list')?c.savAccountsList:c.savAccountsNet" filteredexpandeddata = "c.filteredexpandeddata" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" percent="c.isPercent" categories="c.categories" activecategory="c.activeCategory" isaccountmanagerlist="c.isAccountManagerList" drillaccountmanager="drillAccountManager(arg1, arg2, c)" customorder="c.customorder" ng-if="c.type == 'bar_stacked_double_horizontal'" action="showActionsDropdown(c)" checkedstates="c.checkedstates" allowreports="allowReportRequest(c)" linecount="c.lineCount"  listamount ="c.listAmount" linecountselected = "$parent.$parent.linecountselected" listamountselected = "$parent.$parent.listamountselected"  render-graph-for-select-all = "c.renderGraphForSelectAll"/>
                                    <bar-stacked-horizontal-chart copytodom = "copytodom" selectionenabled="isChartClickable(c)" view="opportunitiesView" selectionenabledarea="isAreaClickable(c)" slug="opportunitiesActive" subslug="subopportunity" multipleselectionenabled="hasMultipleSelection(c, $index)" data="(dashboard === 'services')?c.sldData : ((isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net))"  columns="c.columns" sidebar="sidebarAnimated" callparam= "" expanded="c.expanded" expandeddata = "(isListOrNet === 'list')?c.savAccountsList:c.savAccountsNet" filteredexpandeddata = "c.filteredexpandeddata" viewtype="c.viewType" filtered="c.filtered" filteredquarter="c.filteredquarter" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" percent="c.isPercent" activecategory="c.activeCategory" isaccountmanagerlist="c.isAccountManagerList" drillaccountmanager="drillAccountManager(arg1, arg2, c)" ng-if="c.type == 'bar_stacked_horizontal'" customorder="c.customorder" action="showActionsDropdown(c)" allowreports="allowReportRequest(c)" quarterfilterenabled="isQuarterFilterEnabled(c, $index)" colors="colorsOpp" selection-title="c.categories[c.activeCategory]" pieactivedrill="$parent.$parent.pieActiveDrill" islineitemtooltip="isLineItemTooltip(getEstimate)" selectedsublegend="$parent.$parent.selectedsublegend" checkedstates="c.checkedstates" linecount="c.lineCount"  listamount ="c.listAmount" linecountselected = "$parent.$parent.linecountselected" listamountselected = "$parent.$parent.listamountselected"  render-graph-for-select-all = "c.renderGraphForSelectAll"/>
                                    <square-block-chart copytodom = "copytodom"  selection-title="c.title" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" view="opportunitiesView" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" colors="colorsOpp" columns="c.columns" sidebar="sidebarAnimated" expanded="c.expanded" viewtype="c.viewType" activecategory="c.activeCategory" filtered="c.filtered" ng-if="c.type === 'square_block'" action="showActionsDropdown(c)" allowreports="allowReportRequest(c)" checkedstates="c.checkedstates" />
                                    <bar-stacked-horizontal-vertical-chart selection-title="c.title" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" view="opportunitiesView" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" callparam= "" title="" colors="colorsOpp" columns="c.columns" expanded="c.expanded" viewtype="c.viewType" filtered="c.filtered" sidebar="sidebarAnimated" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" currentMonth="currentMonth" currentquarter="currentQuarter" currentyear="currentYear" percent="c.isPercent" campactivedrill="$parent.$parent.campActiveDrill" selectionenabled="isChartClickable(c)" ng-if="c.type == 'bar_stacked_horizontal_vertical'" />

                                    <line-chart selection-title="c.title" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" view="opportunitiesView" data="(isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net)" colors="colorsList" columns="c.columns" expanded="c.expanded" sidebar="sidebarAnimated" percent="c.isPercent" currentmonth="currentMonth" currentquarter="currentQuarter" currentyear="currentYear" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" selected-corporate-month="$parent.$parent.selectedCorporateMonth" showyoy="yoyLineChart(c)" ng-if="c.type == 'line'" />
                                    <line-chart-r-r selection-title="c.title" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" view="opportunitiesView" data="c.data" colors="colorsList" columns="c.columns" expanded="c.expanded" sidebar="sidebarAnimated" color-config="colorConfig" percent="c.isPercent" currentmonth="currentMonth" currentquarter="currentQuarter" currentyear="currentYear" viewtype="c.viewType" filtered="c.filtered" keys="c.keys" ng-if="c.type == 'line_chart_rr'" />
                                    <pie-chart has-sub="hasSub" pieactivedrill="$parent.$parent.pieActiveDrill" selection-title="c.title" selection="c.categories[c.activeCategory]" slug="opportunitiesActive" subslug="subopportunity" view="opportunitiesView"  data="(dashboard === 'services')?c.sldData : ((isListOrNet === 'list')?(c.categories?c.data[c.activeCategory]:c.data):(c.categories?c.data_net[c.activeCategory]:c.data_net))"  productfamily="(isListOrNet === 'list')?c.productfamilylist:c.productfamilynet" filteredproductfamily ="c.filteredproductfamily" colors="colorsList" columns="c.columns" expanded="c.expanded" sidebar="sidebarAnimated" keys="c.keys" active="$parent.$parent.active" quarter="$parent.$parent.quarterActive" area="$parent.$parent.areaActive" percent="c.isPercent" colors-opp="colorsOpp" subarchlabel="$parent.$parent.subArchLabel" selectionenabled="isChartClickable(c)" keyinfo="c.key_info" viewtype="c.viewType" filtered="c.filtered" customorder="c.customorder" selectedsublegend="$parent.$parent.selectedsublegend" ng-if="c.type == 'pie'" />
                                </div>
                                {{$parent.$parent.selectedQuarter}}
                                <div ng-if="c.viewType == 'list' && (c.type == 'pie' && opportunitiesActive !== 'refresh')" ng-init="freezeHeader(1)">
                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll">
                                        <thead>
                                            <tr>
                                                <!-- US116377 -->
                                                <th class="fix-long-word"><span>{{CiscoUtilities.getListViewLabel(c, opportunitiesView)}}</span></th>
                                                <th class="text-right ">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <td class="top-area1 fix-long-word"><span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td>
                                                <td class="text-right net-val">{{d.total|formatGridValue}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                 <!--Start: subscription table -->
                                 <div ng-if="c.viewType == 'list' && c.type == 'bar_stacked' && opportunitiesActive == 'subscription' "
                                 ng-init="freezeHeader();tableValues()">
                                 <table class="table-scroll">
                                     <thead>
                                         <tr>
                                             <th> {{CiscoUtilities.getListViewLabel(c, opportunitiesView, pieActiveDrill)}}
                                             </th>
                                             <th class="fix-long-word text-right" ng-if="c.type != 'bar_double_horizontal_drs'">
                                                 {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}
                                             </th>
                                             <th class="text-right" ng-repeat="item in c.filtered" ng-if="c.expanded && c.type == 'bar_stacked'">
                                                 {{item.state}}
                                             </th>                                                
                                         </tr>
                                     </thead>
                                     <tbody>
                                         <tr ng-repeat="item in subscription track by $index">
                                             <td class="fix-long-word">{{item.name}} </td>
                                             <td class="text-right">{{item.total | formatGridValue}}</td>
                                             <td class="text-right" ng-if="c.expanded" ng-repeat="a in item.state track by $index">{{a | formatGridValue}}</td>
                                         </tr>
                                     </tbody>
                                 </table>
                             </div>
                             <!--End: subscription table -->

                                <!--Added for Architectures List View-->
                                <div class="product-table" ng-if="c.viewType == 'list' && (c.type == 'pie' || c.type == 'bar_stacked') && opportunitiesActive == 'refresh'" ng-init="c.quarters = getQuarters(c.filteredproductfamily);">
                                     <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{getValueLabel(c)}}</span>
                                     </div>

                                   <div class="product-family-table" ng-class="{'no-product-family' : (opportunitiesActive == 'drs' && c.activeCategory == 1),'no-border':c.expanded && c.type == 'pie'}" ng-init="freezeColumn(c.type)">
                                        <div class="tbl-head clearfix">
                                            <div class="col-head product-family">
                                            <span ng-click="expandAllArchitecture(c)" ng-class='{"ico-collapse":c.expandAllArch, "ico-expand":!c.expandAllArch}' ></span> {{CiscoUtilities.getListViewLabel(c, opportunitiesView, pieActiveDrill)}}
                                        </div>
                                        <div class="col-head text-right">
                                            {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}
                                        </div>
                                        <div class="col-head text-right" ng-repeat="(key, t) in c.quarters" ng-if="c.expanded && c.type == 'bar_stacked'">
                                            {{key}}
                                        </div>
                                    </div>

                                    <ul class="product-family" ng-class="{'sub-arch-list':pieActiveDrill}">
                                    <!-- Fix for DE128103 -->
                                        <li ng-repeat="archList in c.filteredproductfamily" ng-if="!active.length || active[$index] == archList.name">
                                            <div class="tbl-row clearfix">
                                                <div class="tbl-col blue-title" ng-click="showAllArchs(archList, c)">
                                                    <span ng-class='{"ico-collapse":archList.show, "ico-expand":!archList.show}'></span>
                                                    {{archList.name}}
                                                </div>
                                                <div class="tbl-col text-right" ng-if="!pieActiveDrill">{{archList.routing| sumArchRouting : 'opportunity' | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-if="pieActiveDrill">{{archList.routing[0].family| sumByKey : 'opportunity' | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarters" ng-if="c.expanded && c.type == 'bar_stacked'">{{archList.quarters[key] | formatGridValue}}</div>
                                            </div>

                                            <ul class="inner-product-family inner-product-arch-list" ng-show="archList.show">
                                                <li ng-repeat="routing in archList.routing">
                                                    <div class="tbl-row clearfix">
                                                        <div class="tbl-col" ng-click="routing.show = !routing.show" ng-if="!pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                            <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                            {{routing.name}}
                                                        </div>
                                                        <ul ng-if="pieActiveDrill">
                                                            <li ng-repeat="subRouting in routing.family">
                                                                <div class="tbl-row clearfix">
                                                                    <div class="tbl-col" ng-if="pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                                        <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                                        {{subRouting.name}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-if="pieActiveDrill">
                                                                            {{subRouting.opportunity| formatGridValue}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarters"
                                                                        ng-if="c.expanded && c.type == 'bar_stacked'">
                                                                            {{subRouting.quarters[key] | formatGridValue}}
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill">
                                                                {{routing.family| sumByKey : 'opportunity' | formatGridValue}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill && c.expanded && c.type == 'bar_stacked'" ng-repeat="(key, t) in c.quarters">
                                                             {{routing.quarters[key] | formatGridValue}}
                                                        </div>
                                                    </div>

                                                    <ul class="inner-product-family" ng-show="routing.show">
                                                        <li ng-repeat="family in routing.family">
                                                            <div class="tbl-row clearfix">
                                                                <div class="tbl-col">
                                                                    {{family.name}}
                                                                </div>
                                                                <div class="tbl-col text-right">
                                                                    {{family.opportunity| formatGridValue}}
                                                                </div>
                                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarters" ng-if="c.expanded && c.type == 'bar_stacked'">
                                                                    {{family.quarters[key]| formatGridValue}}
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                    <hr class="hor-line">
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                </div>

                                <!-- Architecture view for DRS  -->
                                <!--Added for Architectures List View-->
                                <div class="product-table" ng-if="c.viewType == 'list' && c.type === 'bar_double_horizontal_drs' && opportunitiesActive === 'drs'">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <div class="product-family-table" ng-class="{'no-product-family' : (opportunitiesActive == 'drs' && c.activeCategory == 1),'no-border':c.expanded && c.type == 'pie'}" ng-init="freezeColumn(c.type)">
                                    <div class="tbl-head clearfix">
                                        <div class="col-head product-family">
                                            <span ng-click="expandAllArchitecture(c)" ng-class='{"ico-collapse":c.expandAllArch, "ico-expand":!c.expandAllArch}' ></span> {{pieActiveDrill?'Sub-Architectures':'Architectures'}}
                                        </div>
                                        <div class="col-head text-right" ng-if="c.type == 'bar_double_horizontal_drs'">
                                            Opportunity
                                        </div>
                                        <div class="col-head text-right" ng-if="c.type == 'bar_double_horizontal_drs'">
                                            Pipeline
                                        </div>
                                        <div class="col-head text-right" ng-if="c.type == 'bar_double_horizontal_drs' && c.expanded">
                                            Gap in Pipeline
                                        </div>
                                        <div class="col-head text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type === 'bar_stacked'">
                                            {{key}}
                                        </div>
                                    </div>

                                    <ul class="product-family" ng-class="{'sub-arch-list':pieActiveDrill}">
                                        <li ng-repeat="archList in c.filteredproductfamily">
                                            <div class="tbl-row clearfix">
                                                <div class="tbl-col blue-title" ng-click="showAllArchs(archList, c)">
                                                    <span ng-class='{"ico-collapse":archList.show, "ico-expand":!archList.show}'></span>
                                                        {{archList.name}}
                                                </div>
                                                <div class="tbl-col text-right">
                                                        {{archList.quarters.opportunity| formatGridValue}}
                                                </div>
                                                <div class="tbl-col text-right">
                                                        {{archList.quarters.pipeline| formatGridValue}}
                                                </div>
                                                <div class="tbl-col text-right" ng-if="c.expanded">
                                                        {{archList.quarters.opportunity - archList.quarters.pipeline| formatGridValue}}
                                                </div>
                                            </div>

                                            <ul class="inner-product-family inner-product-arch-list" ng-show="archList.show">
                                                <li ng-repeat="routing in archList.routing">
                                                    <div class="tbl-row clearfix">
                                                        <div class="tbl-col" ng-click="routing.show = !routing.show" ng-if="!pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                            <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                            {{routing.name}}
                                                        </div>
                                                        <ul ng-if="pieActiveDrill">
                                                            <li ng-repeat="subRouting in routing.family">
                                                                <div class="tbl-row clearfix">
                                                                    <div class="tbl-col" ng-if="pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                                        <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                                        {{subRouting.name}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-if="pieActiveDrill">
                                                                            {{subRouting.quarters.opportunity| formatGridValue}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-if="pieActiveDrill">
                                                                            -
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-if="pieActiveDrill && c.expanded">
                                                                        -
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill">
                                                                {{routing.quarters.opportunity| formatGridValue}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill">
                                                                {{routing.quarters.pipeline| formatGridValue}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill && c.expanded">
                                                                {{routing.quarters.opportunity - routing.quarters.pipeline | formatGridValue}}
                                                        </div>
                                                    </div>

                                                    <ul class="inner-product-family" ng-show="routing.show">
                                                        <li ng-repeat="family in routing.family">
                                                            <div class="tbl-row clearfix">
                                                                <div class="tbl-col">
                                                                    {{family.name}}
                                                                </div>
                                                                <div class="tbl-col text-right">
                                                                    {{family.quarters.opportunity| formatGridValue}}
                                                                </div>
                                                                <div class="tbl-col text-right">
                                                                   -
                                                                </div>
                                                                <div class="tbl-col text-right" ng-if="c.expanded">
                                                                   -
                                                                </div>
                                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarters" ng-if="c.expanded && c.type == 'bar_stacked'">
                                                                    {{family.quarters[key]| formatGridValue}}
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                    <hr class="hor-line">
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                </div>
                                <!-- ship timeline-->
                                <div class="product-table" ng-if="c.viewType == 'list' && c.type === 'bar_stacked' && opportunitiesActive === 'drs' && c.activeCategory === 0">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{getValueLabel(c)}}</span>
                                    </div>

                                   <div class="product-family-table" ng-class="{'no-product-family' : (opportunitiesActive == 'drs' && c.activeCategory == 1),'no-border':c.expanded && c.type == 'pie'}" ng-init="freezeColumn(c.type)">
                                    <div class="tbl-head clearfix">
                                        <div class="col-head product-family">
                                            <span ng-click="expandAllArchitecture(c)" ng-class='{"ico-collapse":c.expandAllArch, "ico-expand":!c.expandAllArch}' ></span> {{pieActiveDrill?'Sub-Architectures':'Architectures'}}
                                        </div>
                                        <div class="col-head text-right">
                                            {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}
                                        </div>
                                        <div class="col-head text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type === 'bar_stacked'">
                                            {{key}}
                                        </div>

                                    </div>

                                    <ul class="product-family drs" ng-class="{'sub-arch-list':pieActiveDrill}">
                                        <li ng-repeat="archList in c.filteredproductfamily.shipTimelinePf">
                                            <div class="tbl-row clearfix">
                                                <div class="tbl-col blue-title" ng-click="showAllArchs(archList, c)">
                                                    <span ng-class='{"ico-collapse":archList.show, "ico-expand":!archList.show}'></span>
                                                    {{archList.name}}
                                                </div>
                                                <div class="tbl-col text-right" ng-if="!pieActiveDrill">{{archList.routing| sumArchRouting : 'opportunity' | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-if="pieActiveDrill">{{archList.routing[0].family| sumByKey : 'opportunity' | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type == 'bar_stacked'">{{archList.quarters[key] | formatGridValue}}</div>
                                            </div>

                                            <ul class="inner-product-family inner-product-arch-list" ng-show="archList.show">
                                                <li ng-repeat="routing in archList.routing">
                                                    <div class="tbl-row clearfix">
                                                        <div class="tbl-col" ng-click="routing.show = !routing.show" ng-if="!pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                            <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                            {{routing.name}}
                                                        </div>
                                                        <ul ng-if="pieActiveDrill">
                                                            <li ng-repeat="subRouting in routing.family">
                                                                <div class="tbl-row clearfix">
                                                                    <div class="tbl-col" ng-if="pieActiveDrill" ng-class="{'blue-title':!pieActiveDrill}">
                                                                        <span ng-class='{"ico-collapse":routing.show, "ico-expand":!routing.show}' ng-if="!pieActiveDrill" ></span>
                                                                        {{subRouting.name}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-if="pieActiveDrill">
                                                                            {{subRouting.opportunity| formatGridValue}}
                                                                    </div>
                                                                    <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarterheadership"
                                                                        ng-if="c.expanded && c.type == 'bar_stacked'">
                                                                            {{subRouting.quarters[key] | formatGridValue}}
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill">
                                                                {{routing.family| sumByKey : 'opportunity' | formatGridValue}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill && c.expanded && c.type == 'bar_stacked'" ng-repeat="(key, t) in c.quarterheadership">
                                                             {{routing.quarters[key] | formatGridValue}}
                                                        </div>
                                                    </div>

                                                    <ul class="inner-product-family" ng-show="routing.show">
                                                        <li ng-repeat="family in routing.family">
                                                            <div class="tbl-row clearfix">
                                                                <div class="tbl-col">
                                                                    {{family.name}}
                                                                </div>
                                                                <div class="tbl-col text-right">
                                                                    {{family.opportunity| formatGridValue}}
                                                                </div>
                                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type == 'bar_stacked'">
                                                                    {{family.quarters[key]| formatGridValue}}
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                    <hr class="hor-line">
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                            </div>

                                <!-- SFDC booked deals list view -->
                                <div class="product-table" ng-if="c.viewType == 'list' && c.type === 'bar_stacked' && opportunitiesActive === 'drs' && c.activeCategory === 1 && !c.expanded">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                <div class="tbl-head clearfix">
                                    <div class="product-family-table">
                                    <div class="tbl-head clearfix">
                                        <div class="col-head product-family">
                                            <span ng-click="expandAllArchitecture(c)" ng-class='{"ico-collapse":c.expandAllArchSFDC, "ico-expand":!c.expandAllArchSFDC}' ng-if="!pieActiveDrill && !c.expanded"></span> {{pieActiveDrill?'Sub-Architectures':'Architectures'}}
                                        </div>
                                        <div class="col-head text-right">
                                            {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}
                                        </div>
                                        <div class="col-head text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type === 'bar_stacked'">
                                            {{key}}
                                        </div>

                                    </div>

                                    <ul class="product-family drs" ng-class="{'sub-arch-list':pieActiveDrill}">
                                        <li ng-repeat="(key, archList) in c.sfdcbookingsdata">
                                            <div class="tbl-row clearfix">
                                                <div ng-class='{"tbl-col blue-title":!pieActiveDrill, "tbl-col":pieActiveDrill}' ng-click="showAllArchs(archList, c)" >
                                                    <span ng-class='{"ico-collapse":archList.show, "ico-expand":!archList.show}' ng-if="!pieActiveDrill"></span>
                                                    {{key}}
                                                </div>
                                                <div class="tbl-col text-right">{{archList['SFDC Pipeline'] | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-repeat="(key, t) in c.quarterheadership" ng-if="c.expanded && c.type == 'bar_stacked'">{{archList.quarters[key] | formatGridValue}}</div>
                                            </div>

                                            <ul class="inner-product-family inner-product-arch-list" ng-show="archList.show && !pieActiveDrill">
                                                <li ng-repeat="(key, x) in archList['areas_drill']">
                                                    <div class="tbl-row clearfix">
                                                        <div class="tbl-col" ng-click="routing.show = !routing.show" ng-if="!pieActiveDrill">
                                                            {{key}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill">
                                                                {{x['SFDC Pipeline'] | formatGridValue}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill && c.expanded && c.type == 'bar_stacked'" ng-repeat="(key, t) in c.quarterheadership">
                                                             {{routing.quarters[key] | formatGridValue}}
                                                        </div>
                                                    </div>

                                                    <hr class="hor-line">
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                </div>
                            </div>

                                <!-- SFDC booked deals expanded view -->
                                <div class="product-table" ng-if="c.viewType == 'list' && c.type === 'bar_stacked' && opportunitiesActive === 'drs' && c.activeCategory === 1 && c.expanded" ng-init="freezeHeader()">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{getValueLabel(c)}}</span>
                                    </div>

                                    <div class="product-family-table" ng-class="{'no-product-family' : (opportunitiesActive == 'drs' && c.activeCategory == 0),'no-border':c.expanded && c.type == 'pie'}" ng-init="freezeColumn(c.type)">
                                    <div class="tbl-head clearfix">
                                        <div class="col-head product-family">
                                        <!-- changes for DE137365 -->
                                            <span ng-click="expandAllArchitecture(c)" ng-class='{"ico-collapse":c.expandAllArchSFDC, "ico-expand":!c.expandAllArchSFDC}' ng-if="!pieActiveDrill"></span> {{pieActiveDrill?'Sub-Architectures':'Architectures'}}
                                        </div>
                                        <div class="col-head text-right">
                                            {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}
                                        </div>
                                        <div class="col-head text-right" ng-repeat="quarters in c.filteredproductfamily.sfdcBookings">
                                            {{quarters.quarter}}
                                        </div>
                                    </div>


                                        <ul class="product-family drs" ng-class="{'sub-arch-list':pieActiveDrill}">
                                            <li ng-repeat="(key, archList) in c.sfdcbookingsquarterdata">
                                            <div class="tbl-row clearfix">
                                                <div ng-class='{"tbl-col blue-title":!pieActiveDrill, "tbl-col":pieActiveDrill}' ng-click="showAllArchs(archList, c)" >
                                                    <span ng-class='{"ico-collapse":archList.show, "ico-expand":!archList.show}' ng-if="!pieActiveDrill"></span>
                                                    {{key}}
                                                </div>
                                                <div class="tbl-col text-right">{{c.sfdcbookingsquarterdata[key]['SFDC Pipeline'] | formatGridValue}}</div>
                                                <div class="tbl-col text-right" ng-repeat="quarters in c.filteredproductfamily.sfdcBookings">{{archList[quarters.quarter] | formatGridValue}}</div>
                                            </div>

                                            <ul class="inner-product-family inner-product-arch-list" ng-show="archList.show && !pieActiveDrill">
                                                <li ng-repeat="(subkey, x) in archList['areas_drill']">
                                                    <div class="tbl-row clearfix">
                                                        <div class="tbl-col" ng-click="routing.show = !routing.show" ng-if="!pieActiveDrill">
                                                            {{subkey}}
                                                        </div>

                                                        <div class="tbl-col text-right">
                                                                {{c.sfdcbookingsdata[key]['areas_drill'][subkey]['SFDC Pipeline']}}
                                                        </div>
                                                        <div class="tbl-col text-right" ng-if="!pieActiveDrill && c.expanded && c.type == 'bar_stacked'" ng-repeat="quarters in c.filteredproductfamily.sfdcBookings">
                                                            {{x[quarters.quarter] | formatGridValue}}
                                                        </div>
                                                    </div>

                                                    <hr class="hor-line">
                                                </li>
                                            </ul>

                                        </li>
                                    </ul>
                                </div>
                            </div>

                                <!--End Architecture view for DRS-->
                                <div class="table-responsive" ng-if="c.viewType == 'list' && c.type == 'bar_stacked' && analysis == 'analysis' && false">
                                    <table class="table border-table  opp-by simple-table sav-table" ng-class="{'actions' : allowReportRequest(c)}">
                                        <thead>
                                            <tr>
                                                <th ng-if="allowReportRequest(c);">Actions</th>
                                                <th class="tile-table" style="width:33.3%;">Period</th>
                                                <th class="text-right" style="width:33.3%;">Expired</th>
                                                <th class="text-right" style="width:33.3%;">Upcoming</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Q2FY16</td>
                                                <td class="text-right">{{isListOrNet === 'list'?2.10:1.10}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?50.60:51.60}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q3FY16</td>
                                                <td class="text-right">{{isListOrNet === 'list'?2.10:0.10}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?52.10:51.10}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q4FY16</td>
                                                <td class="text-right">{{isListOrNet === 'list'?3.60:1.60}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?55.60:51.60}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q1FY17</td>
                                                <td class="text-right">{{isListOrNet === 'list'?3.60:3.10}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?49.60:41.90}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q2FY17</td>
                                                <td class="text-right">{{isListOrNet === 'list'?53.6:44.7}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?49.60:41.60}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q3FY17</td>
                                                <td class="text-right">{{isListOrNet === 'list'?4.60:4.10}}</td>
                                                <td class="text-right">{{isListOrNet === 'list'?36.70:32.70}}</td>
                                            </tr>
                                            <tr>
                                                <td>Q4FY17</td>
                                                <td class="text-right">{{isListOrNet === 'list'?2.10:1.10}}5.60</td>
                                                <td class="text-right">{{isListOrNet === 'list'?8.40:6.10}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div ng-if="c.viewType == 'list' && c.type == 'bar_stacked_horizontal' && !showCustomerExpand(c) && !showTSPartnerSalesAMExpand(c)&& !showSWSSPartnerSalesAMExpand(c)">
                                    <!-- yopgupta - removed campaign check condition so that this table loads in analysis as well -->
                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <div class="clearfix cisco-one-tbl" ng-init="freezeHeader()">
                                        <table class="table-scroll custom-details " ng-if="!(c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers') && opportunitiesActive !== 'ciscoOne'" data-ng-class="{'less-records': c.filtered.length <= 3}">
                                            <thead>
                                                <tr>
                                                    <th class="action-col fix-long-word">
                                                    <!-- Change for showing checkbox beside customer in customer chart for selecting all the customers -->
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false"
                                                                   ng-checked="c.renderGraphForSelectAll"
                                                                   ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label"><span></span></label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>
                                                    </th>
                                                    <th class="text-right">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                    <th class="text-right" ng-if="c.expanded" ng-repeat="f in c.keys">{{f}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="d in c.filtered">
                                                    <td class="top-area1 fix-long-word action-col">
                                                            <div class="custom-col">
                                                                <!-- DE145486 - Arun Dada-->
                                                               <span class="form-group" ng-if="allowReportRequest(c)">
                                                                    <input type="checkbox" id="input-checkbox-{{d.state}}"
                                                                           ng-checked="c.checkedstates && c.checkedstates.indexOf(d.state) != -1"
                                                                           ng-click="changeCheckedStates(c, d.state)">
                                                                    <label for="input-checkbox-{{d.state}}" class="control-label"><span></span></label>
                                                                </span>
                                                                <span class="custom-name-drop">
                                                                    <span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.state}}</span>
                                                                    <span class="dropdown action-info">
                                                                <span class="caret" ng-if="allowPipelineDetails(c) && canViewDetails('AMSelected') || (allowContractDetails(c))">
                                                                            <ul class="dropdown-menu action-dropdown animated fadeIn" ng-if="hidePipeline()"><i class="tipsy" style=""></i>
                                                                                <li ng-if="allowContractDetails(c)"> <a 
                                                                                ng-click="viewDetails(d,'contractdetails');" href="javascript:void(0)">Contract details</a>
                                                                                <li ng-if="allowPipelineDetails(c)&& canViewDetails($event) && !filtersServ.globalView">
                                                                                <a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                                <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                                                <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                                <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                                                <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                                                
                                                                          </ul>
                                                                        </span>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </td>
                                                   <!--  <td class="top-area1 fix-long-word"><span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td> -->
                                                    <td class="text-right net-val" ng-if="!c.expanded">{{d.freq|objectTotal|formatGridValue}}</td>
                                                    <!-- yopgupta - Updated output value to show total for only selected opportunity -->
                                                    <td class="text-right net-val" ng-if="c.expanded && !showTSPartnerSalesAMExpand(c)">{{d.freq|objectTotal|formatGridValue}}</td>
                                                    <td class="text-right" ng-if="c.expanded && !showTSPartnerSalesAMExpand(c)" ng-repeat="f in c.keys">{{d.freq[f]|formatGridValue}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- Changes for showing the expanded list view for sales and partners in cisco one which was earlier show as it was in customer and acc mngr chart -->
                                        <table class="table-scroll custom-details " ng-if="!(c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers') && opportunitiesActive === 'ciscoOne' && (c.activeCategory === 0 || c.activeCategory === 1)" data-ng-class="{'less-records': c.filtered.length <= 3}">
                                            <thead>
                                                <tr>
                                                    <th class="action-col fix-long-word">
                                                    <!-- Change for showing checkbox beside customer in customer chart for selecting all the customers -->
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false"
                                                                   ng-checked="c.renderGraphForSelectAll"
                                                                   ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label"><span></span></label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>
                                                    </th>
                                                    <th class="text-right">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                    <th class="text-right" ng-if="c.expanded" ng-repeat="f in c.keys">{{f}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="d in c.filtered">
                                                    <td class="top-area1 fix-long-word action-col">
                                                            <div class="custom-col">
                                                                <!-- DE145486 - Arun Dada-->
                                                               <span class="form-group" ng-if="allowReportRequest(c)">
                                                                    <input type="checkbox" id="input-checkbox-{{d.state}}"
                                                                           ng-checked="c.checkedstates && c.checkedstates.indexOf(d.state) != -1"
                                                                           ng-click="changeCheckedStates(c, d.state)">
                                                                    <label for="input-checkbox-{{d.state}}" class="control-label"><span></span></label>
                                                                </span>
                                                                <span class="custom-name-drop">
                                                                    <span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.state}}</span>
                                                                    <span class="dropdown action-info">
                                                                <span class="caret" ng-if="allowPipelineDetails(c) && canViewDetails('AMSelected') || (allowContractDetails(c))">
                                                                            <ul class="dropdown-menu action-dropdown animated fadeIn" ng-if="hidePipeline()"><i class="tipsy" style=""></i>
                                                                                <li ng-if="allowContractDetails(c)"> <a 
                                                                                ng-click="viewDetails(d,'contractdetails');" href="javascript:void(0)">Contract details</a>
                                                                                <li ng-if="allowPipelineDetails(c)&& canViewDetails($event) && !filtersServ.globalView">
                                                                                <a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                                <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                                                <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                                <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                                                <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                                                
                                                                          </ul>
                                                                        </span>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </td>
                                                   <!--  <td class="top-area1 fix-long-word"><span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td> -->
                                                    <td class="text-right net-val" ng-if="!c.expanded">{{d.freq|objectTotal|formatGridValue}}</td>
                                                    <!-- yopgupta - Updated output value to show total for only selected opportunity -->
                                                    <td class="text-right net-val" ng-if="c.expanded">{{d.freq|objectTotal|formatGridValue}}</td>
                                                    <td class="text-right" ng-if="c.expanded" ng-repeat="f in c.keys">{{d.freq[f]|formatGridValue}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    <table class="table-scroll doubleHead-table custom-details" ng-if="!(c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers') && opportunitiesActive === 'ciscoOne' && (c.activeCategory === 2 || c.activeCategory === 3)" data-ng-class="{'less-records': c.filtered.length <= 3}"> <!--ng-class="{'collapsedView' : !c.expanded }"-->

                                         <thead ng-init="freezeHeader()">
                                            <tr class="top-head" ng-if="c.expanded">
                                                <th  class="customerName"  ng-if="c.expanded"></th>
                                                <th ng-if="c.expanded"  class="" ></th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">
                                                Add</th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">Upgrade</th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">New</th>
                                            </tr>
                                            <tr>
                                                <th class="customerName">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>

                                                </th>
                                                <th class="text-right">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <!--  <td class="action-col" ng-if="allowReportRequest(c);"><span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                    <ul class="dropdown-menu animated fadeIn">
                                                        <i class="tipsy" ng-mouseover="hoverIn(d)"></i>
                                                        <li ng-if="canViewDetails()"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                        <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                        <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                        <li><a href="javascript:void(0);" ng-click="openRequestReport(d.name)">Request Smart IB Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="!(c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers' && pieActiveDrill)" ng-click="openRequestReport(d.name, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill" ng-click="openRequestReport(d.name, 'Request Cisco One Report')">Request Cisco One Report</a></li>
                                                        <li><a href="javascript:void(0);">Line Items Export</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.name)">Action Metrics</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="currentBookmark.isCollab" ng-click="openRequestReport($event, 'Create Collab Presentation and Proposal')">Create Collab Presentation and Proposal</a></li>

                                                    </ul>
                                                </span>
                                            </td> -->

                                               <!--  <td class="customerData"><span uib-tooltip="{{d.name}}" tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td> -->
                                                <td class="customerData">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{d.state}}"
                                                                ng-checked="c.checkedstates && c.checkedstates.indexOf(d.state) != -1"
                                                                ng-click="changeCheckedStates(c, d.state)">
                                                            <label for="input-checkbox-{{d.state}}" class="control-label"><span></span></label>
                                                        </span>
                                                        <span class="custom-name-drop">
                                                            <span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.state}}</span>
                                                            <span class="dropdown action-info">
                                                        <span class="caret" ng-if="allowReportRequest(c) && allowPipelineDetails(c)">
                                                                    <ul class="dropdown-menu action-dropdown animated fadeIn" ng-if="hidePipeline()"><i class="tipsy" ng-mouseover="hoverIn(d)"></i>
                                                                        <li ng-if="canViewDetails()  && !filtersServ.globalView"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                        <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                                        <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.name)">Action Metrics</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                    </ul>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="text-right">{{d.total| formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.ADD | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.ADD | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.addLineItems | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.UPGRADE | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.UPGRADE | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.upgradeLineItems | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.NEW | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.NEW | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.newLineItems | formatGridValue}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <table class="table-scroll doubleHead-table custom-details" ng-if="c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers'" data-ng-class="{'less-records': c.filtered.length <= 3}"> <!--ng-class="{'collapsedView' : !c.expanded }"-->

                                         <thead ng-init="freezeHeader()">
                                            <tr class="top-head" ng-if="c.expanded">
                                                <th  class="customerName"  ng-if="c.expanded"></th>
                                                <th ng-if="c.expanded"  class="" ></th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">Add</th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">Upgrade</th>
                                                <th colspan="2" class="text-center" ng-if="c.expanded">New</th>
                                            </tr>
                                            <tr>
                                                <th class="customerName">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>

                                                </th>
                                                <th class="text-right">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                                <th class="text-center borderR0" ng-if="c.expanded">Value</th>
                                                <th class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">Line Items</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <!--  <td class="action-col" ng-if="allowReportRequest(c);"><span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                    <ul class="dropdown-menu animated fadeIn">
                                                        <i class="tipsy" ng-mouseover="hoverIn(d)"></i>
                                                        <li ng-if="canViewDetails()"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                        <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                        <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                        <li><a href="javascript:void(0);" ng-click="openRequestReport(d.name)">Request Smart IB Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="!(c.categories[c.activeCategory] === 'Cisco ONE Migration Opportunities by Customers' && pieActiveDrill)" ng-click="openRequestReport(d.name, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne' && pieActiveDrill" ng-click="openRequestReport(d.name, 'Request Cisco One Report')">Request Cisco One Report</a></li>
                                                        <li><a href="javascript:void(0);">Line Items Export</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.name)">Action Metrics</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="currentBookmark.isCollab" ng-click="openRequestReport($event, 'Create Collab Presentation and Proposal')">Create Collab Presentation and Proposal</a></li>

                                                    </ul>
                                                </span>
                                            </td> -->

                                               <!--  <td class="customerData"><span uib-tooltip="{{d.name}}" tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td> -->
                                                <td class="customerData">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{d.state}}"
                                                                ng-checked="c.checkedstates && c.checkedstates.indexOf(d.state) != -1"
                                                                ng-click="changeCheckedStates(c, d.state)">
                                                            <label for="input-checkbox-{{d.state}}" class="control-label"><span></span></label>
                                                        </span>
                                                        <span class="custom-name-drop">
                                                            <span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.state}}</span>
                                                            <span class="dropdown action-info">
                                                        <span class="caret" ng-if="allowReportRequest(c) && allowPipelineDetails(c)">
                                                                    <ul class="dropdown-menu action-dropdown animated fadeIn" ng-if="hidePipeline()"><i class="tipsy" ng-mouseover="hoverIn(d)"></i>
                                                                        <li ng-if="canViewDetails()  && !filtersServ.globalView"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                        <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
                                                                        <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.name)">Action Metrics</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                    </ul>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="text-right">{{d.total| formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.ADD | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.ADD | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.addLineItems | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.UPGRADE | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.UPGRADE | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.upgradeLineItems | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && !hasSuite">{{d.freq.NEW | formatGridValue}}</td>
                                                <td class="text-center borderR0" ng-if="c.expanded && hasSuite">{{d.freq_3.NEW | formatGridValue}}</td>
                                                <td class="text-center" ng-if="c.expanded && opportunitiesActive == 'ciscoOne' && c.activeCategory !== 1">{{d.freq_2.newLineItems | formatGridValue}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </div>
                                
                            </div>
                                <div class="table-responsive listViewAccount" ng-if="c.viewType == 'list' && (c.type == 'bar_stacked_horizontal' || c.type == 'bar_stacked_double_horizontal') && showCustomerExpand(c) && opportunitiesActive != 'renew' && subopportunity != 'as' && subopportunity != 'swss'"  ng-init="freezeHeader(1)">

                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <div class="clearfix cisco-one-tbl">
                                        <table class="table-scroll sav-table custom-details" ng-class="{'actions' : allowReportRequest(c)}" ng-init="freezeColumn()">
                                            <thead>
                                                <tr>
                                                    <th class="second-col">
                                                        <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false"
                                                                   ng-checked="c.renderGraphForSelectAll"
                                                                   ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label"><span></span></label>
                                                        </span>
                                                            <span class="custom-name-drop">
                                                                <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                            </span>
                                                        </div>
                                                    </th>
                                                    <!-- <th class="second-col"><span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span></th> --><!-- DE148672 customer name coming twice-->
                                                    <th ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right"># of Chassis</th>
                                                    <th ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right"># of Components</th>
                                                    <th ng-if="opportunitiesActive == 'renew'" class="text-right">Total Contracts</th>
                                                    <th ng-if="opportunitiesActive == 'renew'" class="text-right">Total Line Items</th>
                                                    <th ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right"># of Install Site</th>
                                                    <th ng-if="opportunitiesActive == 'renew'" style="width:15%;" class="text-right">Annual List Price</th>
                                                    <th ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" style="width:15%;" class="text-right">List Price</th>
                                                    <th ng-if="opportunitiesActive == 'renew'" class="text-right">Net Price (Total)</th>
                                                    <th ng-if="opportunitiesActive == 'refresh'" class="text-right">Net Price</th>
                                                    <th class="text-right">Converted to Pipeline</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                             <tr ng-repeat="e in c.filteredexpandeddata">
                                                    <!-- <td ng-if="allowReportRequest(c);" class="action-btn"><span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                        <ul class="dropdown-menu animated fadeIn">
                                                                <i class="tipsy"></i>
                                                                <li ng-if='canViewDetails()'><a ng-click="viewDetails(e)" href="">Pipeline Details</a></li>
                                                                <li><a href="javascript:void(0);" ng-click="openRequestReport(e.name)">Request Smart IB Report</a></li>
                                                                <li><a href="javascript:void(0);" ng-click="openRequestReport(e.name, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                            </ul>
                                                        </span></td> -->
                                                <td  class="sav-td second-col">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{e.name}}"
                                                                    ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1"
                                                                    ng-click="changeCheckedStates(c, e.name)">
                                                            <label for="input-checkbox-{{e.name}}" class="control-label"><span></span></label>
                                                        </span>
                                                        <span class="custom-name-drop">
                                                            <span class="custom-name" uib-tooltip="{{e.name}}" tooltip-trigger="{{tooltiptrigger}}">{{e.name}}</span>
                                                            <span class="dropdown action-info">
                                                                <span class="caret" ng-if="showActionsDropdown(c)">
                                                                    <ul class="dropdown-menu action-dropdown animated fadeIn" ng-if="hidePipeline()">><i class="tipsy" style=""></i>
                                                                        <li ng-if="allowPipelineDetails(c)  && !filtersServ.globalView"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(e)">Pipeline Details</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                    </ul>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <!-- <td  class="sav-td second-col"><span uib-tooltip="{{e.name}}" tooltip-trigger="{{tooltiptrigger}}">{{e.name}}</span></td> --><!-- DE148672 customer name coming twice-->
                                                    <td ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right">{{e.chassis}}</td>
                                                    <td ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right">{{e.components}}</td>
                                                    <td ng-if="opportunitiesActive == 'renew'" class="text-right">{{e.total_contracts}}</td>
                                                    <td ng-if="opportunitiesActive == 'renew'" class="text-right">{{e.total_line_items}}</td>
                                                    <td ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'attach'" class="text-right">{{e.install_site}}</td>
                                                    <td class="text-right" >{{e.list_price| formatGridValue}}</td>
                                                    <td ng-if="opportunitiesActive == 'refresh' || opportunitiesActive == 'renew'" class="text-right">{{e.net_price| formatGridValue}}</td>
                                                    <td class="text-right">{{e.pipeline| formatGridValue}}</td>
                                                </tr>


                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="table-responsive listViewAccount custom-details" ng-show = "opportunitiesActive == 'renew' && (subopportunity !== 'total') && c.activeCategory == 2 "ng-if="c.viewType == 'list'  && subopportunity !== 'as' && (c.type == 'bar_stacked_horizontal' || c.type == 'bar_stacked_double_horizontal') && showCustomerExpand(c)" ng-init="freezeHeader()">
                                <div class="clearfix cisco-one-tbl" ng-init="freezeHeader(1)">
                                    <table class="drs-table table opp-by double-head annual-table " ng-class="{'tsRenewTable':subopportunity =='ts'}">
                                        <thead>
                                            <tr  class="level-0" >
                                                
                                                <th class="fix-long-word" >
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span>Customers</span>
                                                    </div>
                                                </th>
                                                <th class="" ng-if="subopportunity != 'ts'"></th>
                                                <th class="text-center">List Price</th>
                                                <th class="text-center">Net Price</th>
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                            </tr>
                                            <tr class="level-2">
                                                <th class="fix-long-word"></th>
                                                <th ng-if="subopportunity != 'ts'"></th>
                                                <th class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">Annualized</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                                <th class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">Total</td>
                                                                <td class="text-right">Annual</td>
                                                                <td class="text-right">Multi Year </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                                <th class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">Total Contracts </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                                <th class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">Total Line Items</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                                <th class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">Converted to Pipeline</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="e in c.filteredexpandeddata" ng-class="{intendedTr: e.type == 'Service Attribution' || e.type == 'Product Attribution'}" class="highlight-tr" ng-init="freezeHeader(3)">
                        
                                                <td class="fix-long-word">
                                                     <div class="custom-col" ng-if="e.customer">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{e.customer}}" ng-disabled="false" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.customer) != -1" ng-click="changeCheckedStates(c, e.customer)">
                                                            <label for="input-checkbox-{{e.customer}}" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span class="custom-name-drop">
                                                                <span uib-tooltip="{{e.customer}}" tooltip-trigger="{{tooltiptrigger}}" tooltip-placement="right" class="custom-name">{{e.customer}}</span>
                                                           </span>
                                                    </div>
                                               
                                                </td>
                                                <td class="text-left" ng-if="subopportunity != 'ts'">{{e.type}}</td>
                                                <td class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">{{e.list_annual| formatGridValue}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">{{e.total| formatGridValue}}</td>
                                                                <td class="text-right">{{e.net_annual| formatGridValue}}</td>
                                                                <td class="text-right">{{e.multiyear| formatGridValue}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td class="text-right">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">{{e.total_contracts}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </td>
                                                <td class="text-right">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">{{e.total_line_items | formatGridValue}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </td>
                                                <td class="text-right">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-right">{{e.converted_to_pipeline}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- SWSS Renew - Opportunities - Salese, Partner and AM Expanded List view-->
                            <div class="table-responsive listViewAccount custom-details"  ng-if="showSWSSPartnerSalesAMExpand(c)" ng-init="freezeColumn();freezeHeader()">
                                <div class="clearfix cisco-one-tbl">
                                    <table class="table opp-by double-head annual-table" id="datatable6" ng-class="{'swssRenewTable':subopportunity =='swss'}">
                                        <thead>
                                        <tr class="level-0" >
                                            <th class="fix-long-word" >
                                                <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                            </span>
                                                     <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                       </div>
                                            </th>
                                            <th></th>
                                            <th class="text-center">List Price</th>
                                            <th class="text-center">Net Price</th>
                                            <th class="text-center">Contract Line Status</th>
                                        </tr>
                                        <tr class="level-1" >
                                            <th class="fix-long-word no-border"></th>
                                            <th></th>
                                            <th class="text-right">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">Anuualized</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                            <th class="text-right renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">Total</td>
                                                        <td class="text-right">Annual</td>
                                                        <td class="text-right">Multi Year</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                            <th class="text-right renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">Active</td>
                                                        <td class="text-right">Expired</td>
                                                        <td class="text-right">Overdue</td>
                                                        <td class="text-right">Signed</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="e in c.filteredexpandeddata" ng-class="{intendedTr: e.type == 'Service Attribution' || e.type == 'Product Attribution'}" class="highlight-tr"
                                         ng-init="freezeHeader(1)"> 
                                            <tr ng-repeat="e in c.filteredexpandeddata" ng-class="{intendedTr: e.type == 'Service Attribution' || e.type == 'Product Attribution'}" class="highlight-tr">
                                                <td class="fix-long-word">
                                                    <div class="custom-col" ng-if="e.name">
                                                       <span class="form-group" ng-if="allowReportRequest(c)">
                                                           <input type="checkbox" id="input-checkbox-{{e.name}}" ng-disabled="false" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1" ng-click="changeCheckedStates(c, e.name)">
                                                           <label for="input-checkbox-{{e.name}}" class="control-label">
                                                               <span></span>
                                                           </label>
                                                       </span>
                                                       {{e.name}}
                                                   </div>
                                              
                                               </td>
                                            <td class="text-left">{{e.type}}</td>
                                            <td class="text-right">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.list_annual | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.total | formatGridValue}}</td>
                                                        <td class="text-right">{{e.net_annual | formatGridValue}}</td>
                                                        <td class="text-right">{{e.multiyear | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.active | formatGridValue}}</td>
                                                        <td class="text-right">{{e.expired | formatGridValue}}</td>
                                                        <td class="text-right">{{e.overdue | formatGridValue}}</td>
                                                        <td class="text-right">{{e.signed | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix rotated-text bottom-fix">
                                    <span class="table-unit">{{getValueLabel(c)}}</span>
                                </div>
                            </div>
                            <!-- TS Renew - Opportunities - Salese, Partner and AM Expanded List view-->
                            <div class="table-responsive listViewAccount custom-details"  ng-if="showTSPartnerSalesAMExpand(c)">
                                <div class="clearfix cisco-one-tbl" ng-init="freezeHeader(1)">
                                <table class="table opp-by double-head annual-table tsRenewSaleTable" id="datatable6" ng-class="{'swssRenewTable':subopportunity =='swss'}">
                                    <thead>
                                        <tr class="level-0">
                                            <th class="fix-long-word" >
                                                <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                            </span>
                                                            <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                        </div>
                                            </th>
                                            <th class="text-center">Contract Line Value </th>
                                            <th class="text-center double-veritical-line">
                                                Contract Line Status

                                            </th>
                                        </tr>
                                        <tr class="level-1" >
                                            <th class="text-right no-border"></th>
                                            <th class="text-right renew">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">Total</td>
                                                            <td class="text-right">Annual</td>
                                                            <td class="text-right">Multi Year</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                            <th class="text-right renew double-veritical-line">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">Active</td>
                                                            <td class="text-right">Expired</td>
                                                            <td class="text-right">Overdue</td>
                                                            <td class="text-right">Signed</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                         <tr ng-repeat="e in c.filteredexpandeddata" ng-init="freezeHeader(3)">
                                            <td class="fix-long-word">
                                                <div class="custom-col" ng-if="e.name">
                                                            <span class="form-group" ng-if="allowReportRequest(c)">
                                                                <input type="checkbox" id="input-checkbox-{{e.name}}" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1"
                                                                    ng-click="changeCheckedStates(c, e.name)">
                                                                <label for="input-checkbox-{{e.name}}" class="control-label">
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                            <span class="custom-name-drop">
                                                                <span uib-tooltip="{{e.name}}" tooltip-trigger="{{tooltiptrigger}}" tooltip-placement="right" class="custom-name">{{e.name}} </span>
                                                           </span>
                                                    </div>
                                            </td>
                                            <td class="text-right renew">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right" ng-if=" isListOrNet == 'list'">{{e.list_price | formatGridValue}}</td>
                                                            <td class="text-right" ng-if=" isListOrNet == 'net'">{{e.total | formatGridValue}}</td>
                                                            <td class="text-right">{{e.net_annual | formatGridValue}}</td>
                                                            <td class="text-right">{{e.multiyear| formatGridValue}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right renew double-veritical-line">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">{{e.active | formatGridValue}}</td>
                                                            <td class="text-right">{{e.expired | formatGridValue}}</td>
                                                            <td class="text-right">{{e.overdue | formatGridValue}}</td>
                                                            <td class="text-right">{{e.signed | formatGridValue}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                                <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                </div>
                            </div>
                              <!-- Total Renew - Opportunities - Customer Expanded List view-->
                            <div class="table-responsive listViewAccount custom-details"  ng-if="showTotalRenewCustomerExpand(c)" >
                                <div class="clearfix cisco-one-tbl" ng-init="freezeHeader(1)">
                                <table class="table opp-by double-head annual-table" id="datatable6" ng-class="{'totalRenewTable':subopportunity =='total'}" >
                                    <thead>
                                        <tr class="level-0">
                                            <th class="fix-long-word">
                                                <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                            </span>
                                                            <span>Customers</span>
                                                        </div>
                                            </th>
                                            <th class="text-center">List Price</th>
                                            <th class="text-center">Total Renew NET Price</th>
                                            <th class="text-center">SWSS Renew NET Price</th>
                                            <th class="text-center">TS Renew NET Price</th>
                                            <th class="text-center">Total Renew</th>
                                        </tr>
                                        <tr class="level-1">
                                            <th class="text-right no-border"></th>
                                            <th class="text-right total-renew">
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="text-right">Total Renew  </td>
                                                        <td class="text-right">TS Renew </td>
                                                        <td class="text-right">SWSS Renew</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            </th>
                                            <th class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right">Total</td>
                                                            <td class="text-right">Annual</td>
                                                            <td class="text-right">Multiyear</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                            <th class="text-right total-renew">
                                                <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="textareat-right">Total</td>
                                                        <td class="text-right">Annual</td>
                                                        <td class="text-right">Multiyear</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            </th>
                                            <th class="text-right total-renew">
                                                <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="text-right">Total</td>
                                                            <td class="text-right">Annual</td>
                                                            <td class="text-right">Multiyear</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            </th>
                                            <th class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">Total Contracts</td>
                                                        <td class="text-right">Total Line Items</td>
                                                        <td class="text-right">Converted To Pipeline</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="e in c.filteredexpandeddata" ng-init="freezeHeader(1)">
                                            <td class="fix-long-word">
                                                <div class="custom-col" ng-if="e.name">
                                                            <span class="form-group" ng-if="allowReportRequest(c)">
                                                                <input type="checkbox" id="input-checkbox-{{e.name}}" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1"
                                                                    ng-click="changeCheckedStates(c, e.name)">
                                                                <label for="input-checkbox-{{e.name}}" class="control-label">
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                            <span class="custom-name-drop">
                                                                <span uib-tooltip="{{e.name}}" tooltip-trigger="{{tooltiptrigger}}" tooltip-placement="right" class="custom-name">{{e.name}} </span>
                                                           </span>
                                                    </div>
                                            </td>
                                            <td class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.list_price | formatGridValue}}</td>
                                                        <td class="text-right">{{e.ts_list_price | formatGridValue}}</td>
                                                        <td class="text-right">{{e.swss_list_price | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.net_price| formatGridValue}}</td>
                                                        <td class="text-right">{{e.net_annual | formatGridValue}}</td>
                                                        <td class="text-right">{{e.multiyear | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.swssNetPrice | formatGridValue}}</td>
                                                        <td class="text-right">{{e.swssAnnualNetPrice | formatGridValue}}</td>
                                                        <td class="text-right">{{e.swssMultiYearNetPrice | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.tsNetPrice | formatGridValue}}</td>
                                                        <td class="text-right">{{e.tsAnnualNetPrice | formatGridValue}}</td>
                                                        <td class="text-right">{{e.tsMultiYearNetPrice | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="text-right total-renew">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="text-right">{{e.total_contracts | formatGridValue}}</td>
                                                        <td class="text-right">{{e.total_line_items | formatGridValue}}</td>
                                                        <td class="text-right">{{e.converted_to_pipeline | formatGridValue}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                                <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                </div>
                            </div>
                                
                                <div ng-show= "c.expanded" ng-if="c.viewType == 'list' && !showSWSSPartnerSalesAMExpand(c) && (c.type == 'bar_stacked_horizontal') && showCustomerExpand(c)  && (( c.activeCategory == 0 || c.activeCategory == 3) && (subopportunity == 'swss')) || (c.activeCategory == 2 && (opportunitiesActive == 'attach' && subopportunity == 'swss'))">
                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll custom-details" ng-class="{'actions' : allowReportRequest(c)}" ng-init="freezeHeader()">
                                        <thead>
                                            <tr>
                                                <th>
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>
                                                </th>

                                                <th class="text-right" ng-if="c.activeCategory == 2  && opportunitiesActive == 'renew' && subopportunity != 'total'" >Total Contracts</th>

                                                <th class="text-right" ng-if="c.activeCategory == 2  &&opportunitiesActive == 'renew' && subopportunity != 'total'" >Total Line items</th>

                                                <th class="text-right" ng-if="c.activeCategory == 2  && opportunitiesActive == 'renew' && subopportunity != 'total'" >Annual List Price</th>

                                                <th class="text-right"ng-if=" isListOrNet == 'net' && opportunitiesActive == 'renew' && subopportunity != 'total'">Total Opportunity Net Price</th>
                                                <th class="text-right"ng-if=" isListOrNet == 'net' && opportunitiesActive == 'renew' && subopportunity != 'total'">Services Opportunity Net Price</th>
                                                <th class="text-right"ng-if="  isListOrNet == 'net' &&opportunitiesActive == 'renew' && subopportunity != 'total'">Product Opportunity Net Price </th>
                                                <th class="text-right"ng-if="  isListOrNet == 'list' && opportunitiesActive == 'renew' && subopportunity != 'total'">Total Opportunity List Price</th>
                                                <th class="text-right"ng-if=" isListOrNet == 'list' &&opportunitiesActive == 'renew' && subopportunity != 'total'">Services Opportunity List Price</th>
                                                <th class="text-right"ng-if=" isListOrNet == 'list' && opportunitiesActive == 'renew' && subopportunity != 'total'">Product Opportunity List Price </th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach' && c.activeCategory == 2 "># of Chassis</th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach' && c.activeCategory == 2 "># of components</th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach'&& c.activeCategory == 2 "># of Install Site</th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach'">Total Opportunity List Price</th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach'">Services Opportunity List Price</th>
                                                <th class="text-right" ng-if="opportunitiesActive == 'attach'">Product Opportunity List Price</th>

                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="e in c.filteredexpandeddata">
                                                <td>
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{e.name}}" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1"
                                                                ng-click="changeCheckedStates(c, e.name)">
                                                            <label for="input-checkbox-{{e.name}}" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        {{e.name}}
                                                    </div>
                                                </td>
                                                <td class="text-right" ng-if = "e.total_contracts && opportunitiesActive == 'renew'">{{e.total_contracts}}</td>
                                                <td class="text-right" ng-if = "e.total_line_items && opportunitiesActive == 'renew'">{{e.total_line_items}}</td>
                                                <td ng-if = "e.list_price && opportunitiesActive == 'renew'" class="text-right">{{e.list_price | formatGridValue}}</td>
                                                <td ng-if = "e.net_price && opportunitiesActive == 'renew'" class="text-right">{{e.net_price| formatGridValue}}</td>

                                                <td class="text-right" ng-if = "isListOrNet == 'net' && opportunitiesActive == 'renew'">{{e.serviceOpportunityPriceNet| formatGridValue}}</td>
                                                <td class="text-right" ng-if = "isListOrNet == 'net'&& opportunitiesActive == 'renew'">{{e.productOpportunityPriceNet| formatGridValue}}</td>
                                                <td class="text-right" ng-if = "isListOrNet == 'list'&&opportunitiesActive == 'renew'">{{e.serviceOpportunityPriceList| formatGridValue}}</td>
                                                <td class="text-right" ng-if = "isListOrNet == 'list'&& opportunitiesActive == 'renew'">{{e.productOpportunityPriceList| formatGridValue}}</td>
                                                <td class="text-right" ng-if = "opportunitiesActive == 'attach'&& c.activeCategory == 2 ">{{e.chassis}}</td>
                                                <td class="text-right" ng-if = "opportunitiesActive == 'attach'&& c.activeCategory == 2 ">{{e.components}}</td>
                                                <td class="text-right" ng-if = "opportunitiesActive == 'attach'&& c.activeCategory == 2 ">{{e.install_site}}</td>
                                                <td class="text-right" ng-if = "opportunitiesActive == 'attach'">{{e.list_price| formatGridValue}}</td>
                                                 <td class="text-right" ng-if = "opportunitiesActive == 'attach'">{{e.serviceOpportunityPriceList| formatGridValue}}</td>
                                                <td class="text-right" ng-if = "opportunitiesActive == 'attach'">{{e.productOpportunityPriceList| formatGridValue}}</td>


                                                
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            
                                <div ng-if="c.viewType == 'list' && (c.type == 'bar_stacked_horizontal') && showCustomerExpand(c) && subopportunity =='as'">
                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll custom-details" ng-class="{'actions' : allowReportRequest(c)}" ng-init="freezeHeader()">
                                        <thead>
                                            <tr>
                                                <th>
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="selectall" ng-disabled="false" ng-checked="c.renderGraphForSelectAll" ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                            <label for="selectall" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                    </div>
                                                </th>
                                                <th class="text-right">Expiring Deal</th>
                                                <th class="text-right">Project ID</th>
                                                <th class="text-right">Project Name</th>
                                                <th class="text-right">Contract Number</th>
                                                <th class="text-right">Fiscal Quarter</th>
                                                <th class="text-right">Opportunity Stage</th>
                                                <th class="text-right">Total Opportunity</th>
                                                <th class="text-right">Opportunity - Annual</th>
                                                <th class="text-right">Opportunity - Multi-Year</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="e in c.filteredexpandeddata">
                                                <td>
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{e.account}}" ng-checked="c.checkedstates && c.checkedstates.indexOf(e.account) != -1"
                                                                ng-click="changeCheckedStates(c, e.account)">
                                                            <label for="input-checkbox-{{e.account}}" class="control-label">
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                        {{e.account}}
                                                    </div>
                                                </td>
                                                <td class="text-right">{{e.expiringDeal}}</td>
                                                <td class="text-right">{{e.projectId}}</td>
                                                <td class="text-right">{{e.projectName}}</td>
                                                <td class="text-right">{{e.contractNumber}}</td>
                                                <td class="text-right">{{e.fiscalQuarter}}</td>
                                                <td class="text-right">{{e.opportunityExpiralStatus}}</td>
                                                <td class="text-right">{{e.totalAmount}}</td>
                                                <td class="text-right">{{e.annualizedRenewalAmount}}</td>
                                                <td class="text-right">{{e.multiyearRenewalAmount}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            <div ng-if="c.viewType == 'list' &&
                             ((c.type == 'bar_stacked' && opportunitiesActive != 'refresh' && (opportunitiesActive !== 'drs') && (opportunitiesActive != 'subscription')) ||
                             (c.type == 'line' && (c.unique_key == null || c.unique_key != 'corporate_attach_rate')) ||
                             (c.type == 'bar' && (c.unique_key == null || c.unique_key != 'corporate_attach_rate')))" ng-init="freezeHeader()">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit" ng-show="!yoyLineChart(c)">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll">
                                        <thead>
                                            <tr>
                                                <th class="fix-long-word"><span>{{CiscoUtilities.getListViewLabel(c, opportunitiesView)}}</span></th> <!-- yopgupta - Added conditions to show different table headings -->
                                                <th class="text-right " ng-if="!c.expanded && !((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1)">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                <!-- <th class="text-right " ng-if="c.expanded && !((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1)">{{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}</th> -->
                                                <th class="text-right" ng-if="!c.expanded && c.keys.length > 0 && ((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1)" ng-repeat="f in c.keys | limitTo:1">{{f}}</th>
                                                <!-- Arun Dada- DE145286  -->
                                                
                                                
                                                <th class="text-right" ng-if="c.expanded && !((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1) && c.activeCategory !==3">
                                                {{CiscoUtilities.getTotalLabel(c.categories?c.categories[c.activeCategory]:c.title)}}  
                                                </th>
                                               
                                                <th class="text-right" ng-if="c.expanded && c.keys.length > 1" ng-repeat="f in c.keys">{{f}}</th>
                                                <th class="text-right" ng-if="c.expanded && c.categories[c.activeCategory]==='In Quarter Renewal Rate'">Previous Year RR</th>
                                                <th class="text-right" ng-if="c.expanded && c.categories[c.activeCategory]==='In Quarter Renewal Rate'">YOY</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <td class="top-area1 fix-long-word"><span>{{spaceQuarter(d.state)}}</span></td>
                                                <td class="text-right net-val" ng-if="(!c.expanded && c.type!=='bar') &&
                                                c.categories[c.activeCategory] != 'Renewal Rate by Architecture'&& !((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1) && !c.expanded">{{d.freq|objectTotal|formatGridValue:true: (c.isPercent? true: false)}}</td>
                                                <td class="text-right net-val" ng-if="(c.expanded || c.type==='bar') &&
                                                c.categories[c.activeCategory] != 'Renewal Rate by Architecture' && !((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1)  && c.activeCategory !==3">{{d.total|formatGridValue:true:(c.isPercent? true: false)}}</td>
                                                <!-- Changes for DE132797 - Sindhu -->
                                                <td class="text-right" ng-if="!c.expanded && c.keys.length > 0 &&
                                                c.categories[c.activeCategory] != 'Renewal Rate by Architecture' && ((c.categories[c.activeCategory]).indexOf('Rate by Sales') > -1)" ng-repeat="f in c.keys | limitTo:1">{{d.freq[f]|formatGridValue:true:(c.isPercent? true: false)}}</td>
                                               <!-- Arun Dada Defect DE145284 -->
                                                <!-- <td class="text-right" ng-if="(c.expanded && c.keys.length > 0)&&(opportunitiesActive==='renew')" ng-repeat="f in c.keys" ><span ng-hide="f==='Renewal Rate'">{{d.freq[f]|formatGridValue:true:(c.isPercent? true: false)}}</span></td> -->



                                                <td class="text-right" ng-if="c.expanded && c.keys.length > 1 && c.categories[c.activeCategory] != 'Renewal Rate by Architecture'" ng-repeat="f in c.keys">{{d.freq[f]|formatGridValue:true:(c.isPercent? true: false)}}</td>
                                                <td class="text-right" ng-if="c.keys.length > 1 && c.categories[c.activeCategory] == 'Renewal Rate by Architecture'">{{d.total|objectTotal|formatGridValue}}</td>
                                                <td class="text-right" ng-if="c.expanded && c.keys.length > 1 && c.categories[c.activeCategory] == 'Renewal Rate by Architecture'" ng-repeat="f in c.keys">{{d.freq[f]|formatGridValue}}</td>
                                                <td class="text-right" ng-if="c.expanded && c.categories[c.activeCategory]==='In Quarter Renewal Rate'" ng-repeat="f in c.keys">
                                                {{d.previousYear[f]|formatGridValue:true:true}}</td>
                                                <td class="text-right" ng-if="c.expanded && c.categories[c.activeCategory]==='In Quarter Renewal Rate'" ng-repeat="f in c.keys" ng-class="{'red': d.growth[f]<0, 'green':d.growth[f]>0}">
                                                <span ng-class="{'glyphicon glyphicon-triangle-bottom' : d.growth[f]<0, 'glyphicon glyphicon-triangle-top' : d.growth[f]>0}">&nbsp;</span>
                                                {{d.growth[f]|formatGridValue:true:true}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="table-responsive" ng-if="c.viewType == 'list' && c.type == 'bar_stacked_horizontal' && false">
                                    <!-- yopgupta - removed campaign check condition so that this table doesn't load in analysis -->
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table opp-by name-value-tbl" ng-class="{'actions' : allowReportRequest(c)}">
                                        <thead>
                                            <tr>
                                                <th class="text-center action-col" ng-if="allowReportRequest(c);">Actions</th>
                                                <th class="">{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                                <th class="text-right">Value ($)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <td class="text-center action-col" ng-if="allowReportRequest(c);">
                                                    <span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                        <!-- SunitaYadav  added class of animated fadeIn -->
                                                        <ul class="dropdown-menu">
                                                            <i class="tipsy"></i>
                                                            <li><a href="javascript:void(0);" ng-click="openRequestReport(c.checkedstates, 'Request Smart IB Report')" ng-if="allowSmartReport(c);">Request Smart IB Report</a></li>
                                                            <li><a href="javascript:void(0);" ng-if="allowCustomerReport(c);" ng-click="openRequestReport(c.checkedstates, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                            <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                            <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                        </ul>
                                                    </span>
                                                </td>
                                                <td class="top-area1"><span ng-click="drillAccountManager(c.isAccountManagerList, d.state, c);">{{d.state}}</span></td>
                                                <td class="text-right net-val">{{d.freq|objectTotal:active| formatGridValue}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>



                                <div ng-if="c.viewType == 'list' && (c.type == 'bar_stacked_double_horizontal') && !showCustomerExpand(c)" ng-init="freezeHeader()">
                                    <div class="clearfix rotated-text bottom-fix">
                                        <span class="table-unit">{{getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll custom-details" ng-class="{'actions' : allowReportRequest(c)}">
                                        <thead>
                                            <tr>
                                                <th class="fix-long-word action-col">
                                                    <div class="custom-col">
                                                    <span class="form-group" ng-if="allowReportRequest(c)">
                                                        <input type="checkbox" id="selectall" ng-disabled="false"
                                                               ng-checked="c.renderGraphForSelectAll"
                                                               ng-click="c.renderGraphForSelectAll ? deselectAllCheckboxes(c) : selectAllCheckboxes(c)">
                                                        <label for="selectall" class="control-label"><span></span></label>
                                                    </span>
                                                        <span class="custom-name-drop">
                                                            <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                        </span>
                                                    </div>
                                                </th>
                                                <th class="text-right">{{isListOrNet === 'list' ? 'List':'Net'}} Price</th>
                                                <th class="text-right" ng-if="c.filtered[0].freq_2">SFDC Pipeline</th>
                                                <th class="text-right" ng-if="c.filtered[0].freq_2 && c.expanded">Gap in Pipeline</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                            <td class="top-area1 action-col fix-long-word">
                                                    <div class="custom-col">
                                                        <span class="form-group" ng-if="allowReportRequest(c)">
                                                            <input type="checkbox" id="input-checkbox-{{d.state}}"
                                                                        ng-checked="c.checkedstates && c.checkedstates.indexOf(d.state) != -1"
                                                                        ng-click="changeCheckedStates(c, d.state)">
                                                            <label for="input-checkbox-{{d.state}}"  class="control-label"><span></span></label>
                                                        </span>
                                                        <span class="custom-name-drop">
                                                            <span uib-tooltip="{{d.state}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.state}}</span>
                                                                <span class="dropdown action-info">
                                                            <span class="caret" ng-if="allowReportRequest(c) && allowPipelineDetails(c)">
                                                                    <ul class="dropdown-menu action-dropdown animated fadeIn"><i class="tipsy" style=""></i>
                                                                        <li ng-if="canViewDetails()"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                                        <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                    </ul>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <!-- <td class=" fix-long-word action-col" ng-if="allowReportRequest(c);"><span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                    <ul class="dropdown-menu  animated fadeIn">
                                                        <i class="tipsy"></i>
                                                            <li ng-if='canViewDetails()'><a href="" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                            <li><a href="javascript:void(0);" ng-click="openRequestReport(d.state)">Request Smart IB Report</a></li>
                                                            <li><a href="javascript:void(0);" ng-click="openRequestReport(d.state, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                            <li><a href="javascript:void(0);">Line Items Export</a></li>
                                                        </ul>
                                                    </span>
                                                </td> -->
                                                <td class="text-right net-val">{{d.freq|objectTotal:active| formatGridValue}}</td>
                                                <td class="text-right net-val" ng-if="d.freq_2">{{d.freq_2|objectTotal:active| formatGridValue}}</td>
                                                <td class="text-right" ng-if="d.freq_2 && c.expanded">{{((d.freq|objectTotal)-(d.freq_2|objectTotal)) | formatGridValue}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div ng-if="c.viewType == 'list' && c.type == 'bar_double'" ng-init="freezeHeader()">
                                    <div class="clearfix right-fix">
                                        <span class="pull-right table-unit">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span>
                                    </div>
                                    <table class="table-scroll">
                                        <thead>
                                            <!--<tr class="clearfix" ng-if="c.expanded">
                                            <th></th>
                                            <th class="text-center" colspan="3">Overall</th>
                                        </tr> -->
                                            <tr>
                                                <th class="fix-long-word"><span>{{CiscoUtilities.getListViewLabel(c, opportunitiesView)}}</span></th>
                                                <!--<th class="text-right">
                                    <table>
                                        <tr>

                                        </tr>
                                    </table>
                                    </th>-->
                                                <th class="text-right" ng-repeat="(k, v) in c.filtered[0].areas[0].freq">{{k==constants.opportunity?'Opportunity':'Pipeline'}}</th>
                                                <th class="text-right" ng-if="c.expanded">Gap in Pipeline</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="d in c.filtered">
                                                <td class="top-area1 fix-long-word"><span uib-tooltip="{{d.quarter}}" tooltip-trigger="{{tooltiptrigger}}">{{spaceQuarter(d.quarter)}}</span></td>
                                                <td class="text-right" ng-repeat="(k, v) in d.freq">{{v|formatGridValue}}</td>
                                                <td class="text-right" ng-if="c.expanded">{{d.freq[constants.opportunity] - d.freq[constants.pipeline]|formatGridValue}}</td>
                                                <!--<td>
                                                <table>
                                                    <tr>

                                                    </tr>
                                                </table>
                                            </td>-->
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div ng-if="c.viewType == 'list' && c.type == 'bar_double_horizontal'" ng-init="freezeHeader(3)">
                                    <table class="drs-table table opp-by table-fixed1 double-head full-width custom-details" ng-class="{'actions' : allowReportRequest(c)}">
                                        <thead>
                                        <tr ng-show="c.expanded" class="level-0">
                                            <th class="action-col" ng-show="allowReportRequest(c)"></th>
                                            <th><span class="visibleHidden">{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span></th>
                                                <th class="text-center">Overall</th>
                                                <th class="text-center" ng-repeat="f in c.filtered[0].areas">{{f.state}}
                                                <a class="expandable_button" ng-click="drillUndrillColumn(f);" ng-show="f.areas_drill">
                                                    <span class="ico-expand" ng-show="!isDrilled(f)"></span>
                                                    <span class="ico-collapse" ng-show="isDrilled(f)"></span>
                                                    </a>
                                                </th>
                                            </tr>
                                        <tr ng-show="c.expanded && drilledCols.length" class="level-1">
                                            <th class="action-col" ng-show="allowReportRequest(c)"></th>
                                            <th>
                                                <table class="visibleHidden">
                                                    <tr>
                                                        <td>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</td>
                                                    </tr>
                                                </table>
                                            </th>
                                            <th class="text-center">
                                                <table class="visibleHidden">
                                                    <tr>
                                                        <td class="text-center">Overall</td>
                                                    </tr>
                                                </table>
                                            </th>
                                                <th class="text-center" ng-repeat="f in c.filtered[0].areas">
                                                <table ng-show="isDrilled(f)">
                                                        <tr>
                                                            <td class="text-center" ng-repeat="g in f.areas_drill">{{g.state}}</td>
                                                        </tr>
                                                    </table>
                                                </th>
                                            </tr>
                                            <tr class="level-2">
                                            <th class="text-center action-col" ng-show="allowReportRequest(c)">Actions</th>
                                            <th class="fix-long-word">{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</th>
                                            <th class="text-right padding0">
                                                <table>
                                                    <tr>
                                                        <td class="text-right" ng-repeat="(k, v) in c.filtered[0].areas[0].freq">{{k==constants.opportunity?'Opportunity':'Pipeline'}}</td>
                                                        <td ng-if="c.activeCategory !== 1" ng-show="c.filtered[0].areas[0].freq[constants.pipeline] !== null && c.expanded">Gap in Pipeline</td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th ng-if="c.categories[c.activeCategory] == 'Opportunities by Customers' || c.categories[c.activeCategory] == 'Opportunities by Partners'" class="text-right1" ng-show="c.expanded" ng-repeat="f in c.filtered[0].areas">
                                                    <table ng-show="isDrilled(f)" ng-init="f.drillTemp = getDrilledHead(f.areas_drill);">
                                                        <tr>
                                                            <td class="text-right" ng-repeat="v in f.drillTemp track by $index">{{v==constants.opportunity?'Opportunity':'Pipeline'}}</td>
                                                        </tr>
                                                    </table>
                                                    <table ng-show="!isDrilled(f)">
                                                        <tr>
                                                            <td class="text-right" ng-repeat="(k, v) in f.freq">{{k==constants.opportunity?'Opportunity':'Pipeline'}}</td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th ng-if="c.categories[c.activeCategory] == 'Opportunities by Sales Levels'" class="text-right1" ng-show="c.expanded" ng-repeat="f in c.filtered[0].areas">
                                                        <table ng-show="isDrilled(f)" ng-init="f.drillTemp = getDrilledHead(f.areas_drill);">
                                                            <tr>
                                                                <td class="text-right" ng-repeat="v in f.drillTemp track by $index">{{v==constants.opportunity?'Pipeline':'Opportunity'}}</td>
                                                            </tr>
                                                        </table>
                                                        <table ng-show="!isDrilled(f)">
                                                            <tr>
                                                                <td class="text-right" ng-repeat="(k, v) in f.freq">{{k==constants.opportunity?'Opportunity':'Pipeline'}}</td>
                                                            </tr>
                                                        </table>
                                                    </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="d in c.filtered">
                                            <!-- <td class="text-center action-col" ng-show="allowReportRequest(c);">
                                                    <span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                        SunitaYadav  added class of animated fadeIn
                                                        <ul class="dropdown-menu animated fadeIn">
                                                            <i class="tipsy"></i>
                                                        <li ng-if="canViewDetails()"><a href="" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                        <li><a href="javascript:void(0);" ng-click="openRequestReport(d.quarter)" ng-show="allowSmartReport(c);">Request Smart IB Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-show="allowCustomerReport(c);" ng-click="openRequestReport(d.quarter, 'Request Customer Detail Report')">Request Customer Detail Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-show="allowActionMetrics(c);" ng-click="openActionMetrics(d.quarter)">Action Metrics</a></li>
                                                        <li><a href="javascript:void(0);" ng-show="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                        </ul>
                                                    </span>
                                            </td> -->
                                            <td class="text-center action-col" ng-show="allowReportRequest(c);">
                                                <span class="form-group">
                                                        <input type="checkbox" id="input-checkbox-{{d.quarter}}"
                                                                ng-checked="c.checkedstates && c.checkedstates.indexOf(d.quarter) != -1"
                                                                ng-click="changeCheckedStates(c, d.quarter)">
                                                        <label for="input-checkbox-{{d.quarter}}"  class="control-label"><span></span></label>
                                                </span>
                                            </td>
                                            <td class="top-area1 fix-long-word"><!-- fix for DE144842 -->
                                                <div class="custom-col">
                                                    <span class="custom-name-drop">
                                                        <span uib-tooltip="{{d.quarter}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d.quarter}}</span>
                                                        <span class="dropdown action-info">
                                                    <span class="caret" ng-if="allowReportRequest(c) && allowPipelineDetails(c)">
                                                                <ul class="dropdown-menu action-dropdown animated fadeIn"><i class="tipsy" style=""></i>
                                                                    <li ng-if="canViewDetails()"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(d)">Pipeline Details</a></li>
                                                                    <li><a href="javascript:void(0);" ng-show="allowActionMetrics(c);" ng-click="openActionMetrics(d.quarter)">Action Metrics</a></li>
                                                                    <li><a href="javascript:void(0);" ng-show="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                                </ul>
                                                            </span>
                                                        </span>
                                                    </span>
                                                </div>
                                            </td>
                                                <td>
                                                    <table>
                                                        <tr>
                                                            <td class="text-right" ng-repeat="(k, v) in d.freq">{{v|formatGridValue}}</td>
                                                        <td class="text-right" ng-if="c.activeCategory !== 1" ng-show="d.freq[constants.pipeline] !== null && c.expanded">{{d.freq[constants.opportunity] - d.freq[constants.pipeline]|formatGridValue}}</td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            <td ng-show="c.expanded" ng-repeat="f in d.areas">
                                                <table ng-show="isDrilled(f)" ng-init="f.drillTempB = getDrilledBody(f.areas_drill);">
                                                        <tr>
                                                        <td class="text-right" ng-repeat="v in f.drillTempB track by $index">{{v|formatGridValue}}</td>
                                                        </tr>
                                                    </table>
                                                <table ng-show="!isDrilled(f)">
                                                        <tr>
                                                        <td class="text-right" ng-repeat="(k, v) in f.freq">{{v| formatGridValue}}</td>
                                                        </tr>
                                                    </table>
                                                </td>
                                        </tbody>
                                    </table>
                                </div>
                            <!-- List view for TS Attach Performance : Corporate Attach Rate-->
                            <div ng-if="c.viewType == 'list' && (c.type == 'bar'|| c.type == 'bar_target' || c.type == 'line') && c.unique_key == 'corporate_attach_rate'" ng-init="freezeHeader()">
                                <div class="clearfix right-fix">
                                   <!--  <span class="pull-right table-unit">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span> -->
                                </div>
                                <table class="table-scroll" ng-init="setListKeys(c)">
                                    <thead>
                                    <tr>
<!--                                    <th class="fix-long-word" ng-if="c.activeCategory == 0"><span>AR Month</span></th>
                                        <th class="fix-long-word" ng-if="c.activeCategory == 1"><span>AR Quarter</span></th>-->
                                        <th class="fix-long-word"><span>{{CiscoUtilities.getListViewLabel(c, opportunitiesView)}}</span></th>
                                        <th class="text-right" ng-repeat="f in (c.expanded ? c.listKeys : c.listKeys.slice(3,4))">{{f}}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <!-- <tr ng-repeat="d in c.data_net" ng-class="{'highlighted-tr': highlightRow(d.state)}"> -->
                                    <!-- c.list_data might not work for SLD -->
                                    <tr ng-repeat="d in c.list_data | orderBy:false:quarterSort(c)" ng-class="{'highlighted-tr': highlightRow(d.state) || d.parent , 'split-values-tsattach': d.splitValue}">
                                        <td class="top-area1 fix-long-word"><span>{{d.state}}</span></td>
                                        <td class="text-right" ng-repeat="f in (c.expanded ? c.listKeys : c.listKeys.slice(3,4))"
                                            ng-class="{'red' : showRedTriangle(d, f),
                                                        'green' : showGreenTriangle(d, f)}">
                                            <span ng-if="showRedTriangle(d, f) || showGreenTriangle(d, f)"
                                                  ng-class="{'glyphicon glyphicon-triangle-bottom' : showRedTriangle(d, f), 'glyphicon glyphicon-triangle-top' : showGreenTriangle(d, f)}">&nbsp;</span>
                                            {{d.freq[f]|formatGridValue:true:formatPercentageValues(f) }}
                                        </td>
                                        <!-- <td class="text-right" ng-repeat="f in (c.expanded ? c.listKeys : c.listKeys.slice(0,2))"
                                            ng-class="{'red': d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && ((f == 'YOY' && d.freq[f] < 0) || (f == '% of Target' && d.freq[f] < 95)),
                                                        'green' : d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && ((f == 'YOY' && d.freq[f] > 0)|| (f == '% of Target' && d.freq[f] > 100))}">
                                            <span ng-if="d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && (f == '% of Target' || f == 'YOY')" ng-class="{'glyphicon glyphicon-triangle-bottom' : ((f == 'YOY' && d.freq[f] < 0) || (f == '% of Target' && d.freq[f] < 95)), 'glyphicon glyphicon-triangle-top' : ((f == 'YOY' && d.freq[f] > 0)|| (f == '% of Target' && d.freq[f] > 100))}">&nbsp;</span>{{ d.freq[f]|formatGridValue:true:((f == "% of Target" || f == "YOY" || f == "AR" || f == "Target") ? true : false)}}</td> -->
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div ng-if="c.viewType == 'list' && c.type == 'bar_stacked_horizontal' && showCustomerExpand(c) && coMigrationView(c)" ng-init="freezeHeader()">
                                <div class="clearfix right-fix">
                                    <span class="pull-right table-unit">{{c.isPercent?'Value shown in Percentage':getValueLabel(c)}}</span>
                                </div>
                                <table class="table-scroll" ng-init="setListKeys(c)">
                                    <thead>
                                    <tr>
<!--                                        <th class="fix-long-word" ng-if="c.activeCategory == 0"><span>AR Month</span></th>
                                        <th class="fix-long-word" ng-if="c.activeCategory == 1"><span>AR Quarter</span></th>-->
                                        <th class="fix-long-word"><span>{{CiscoUtilities.getListViewLabel(c, opportunitiesView)}}</span></th>
                                        <th class="text-right" ng-repeat="f in (c.expanded ? c.listKeys : c.listKeys.slice(0,2))">{{f}}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="d in c.data_net[c.activeCategory]" ng-class="{'highlighted-tr': highlightRow(d.state)}">
                                        <td class="top-area1 fix-long-word"><span>{{d.state}}</span></td>
                                        <td class="text-right" ng-repeat="f in (c.expanded ? c.listKeys : c.listKeys.slice(0,2))"
                                            ng-class="{'red': d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && ((f == 'YOY' && d.freq[f] < 0) || (f == '% of Target' && d.freq[f] < 95)),
                                                        'green' : d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && ((f == 'YOY' && d.freq[f] > 0)|| (f == '% of Target' && d.freq[f] > 100))}">
                                            <span ng-if="d.freq[f] != null && d.freq[f] != '' && d.freq[f] != 0 && (f == '% of Target' || f == 'YOY')" ng-class="{'glyphicon glyphicon-triangle-bottom' : ((f == 'YOY' && d.freq[f] < 0) || (f == '% of Target' && d.freq[f] < 95)), 'glyphicon glyphicon-triangle-top' : ((f == 'YOY' && d.freq[f] > 0)|| (f == '% of Target' && d.freq[f] > 100))}">&nbsp;</span>{{ d.freq[f]|formatGridValue:true:((f == "% of Target" || f == "YOY" || f == "AR" || f == "Target") ? true : false) }}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- Average Days to Attach by Customer/Sales Level List view-->
                            <div ng-if="c.viewType == 'list' && c.type == 'square_block'" ng-init="freezeHeader()">
                                <table class="table-scroll custom-details" ng-init="getListDataForSquareBlock(c)">
                                    <thead>
                                        <tr>
                                            <th class="fix-long-word action-col">
                                                <div class="custom-col">
                                                        <span class="custom-name-drop">
                                                            <span>{{CiscoUtilities.getOppHeading(c.categories?c.categories[c.activeCategory]:c.title)}}</span>
                                                        </span>
                                                    </div>
                                            </th>
                                            <th class="text-right" ng-if="!c.expanded">{{c.data[c.activeCategory][c.data[c.activeCategory].length-1].quarter}}</th>
                                            <th class="text-center" ng-repeat="e in c.data[c.activeCategory]" ng-if="c.expanded">{{e.quarter}}</th>
                                        </tr>
                                    </thead>
                                    <!-- Change for DE156224 -->
                                    <tbody id="right-scroll">
                                        <tr ng-repeat="d in c.allStates">
                                            <!-- <td class="action-col" ng-if="allowReportRequest(c);">
                                                <span class="dropdown export"><span class="ico-more_bg"><span class="path1 hvr-icon-pop"></span><span class="path2"></span></span>
                                                    <ul class="dropdown-menu animated fadeIn">
                                                        <i class="tipsy"></i>
                                                        <li ng-if="canViewDetails()"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDetails(e)">Pipeline Details</a></li>
                                                        <li><a href="javascript:void(0);" ng-click="openRequestReport(d.state)">Request Smart IB Report</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="allowCustomerReport(c);" ng-click="openRequestReport(d.state, 'Request Customer Detail Report')">{{requestText}}</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                        <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                    </ul>
                                                </span>
                                            </td> -->
                                            <td class="top-area1 fix-long-word action-col">
                                                <div class="custom-col">
                                                    <span class="form-group" ng-if="allowReportRequest(c)">
                                                        <input type="checkbox" id="input-checkbox-{{e.name}}"
                                                                ng-checked="c.checkedstates && c.checkedstates.indexOf(e.name) != -1"
                                                                ng-click="changeCheckedStates(c, e.name)">
                                                        <label for="input-checkbox-{{e.name}}" class="control-label"><span></span></label>
                                                    </span>
                                                    <span class="custom-name-drop">
                                                        <span uib-tooltip="{{d}}" tooltip-trigger="{{tooltiptrigger}}" class="custom-name">{{d}}</span>
                                                            <span class="caret dropdown" ng-if="showActionsDropdown(c)">
                                                            <ul class="dropdown-menu action-dropdown animated fadeIn">
                                                                <i class="tipsy"></i>
                                                                <li ng-if="allowPipelineDetails(c)"><a href="#/view-account/{{opportunitiesActive}}" ng-click="viewDe
                                                                tails(e)">Pipeline Details</a></li>
                                                                <li><a href="javascript:void(0);" ng-if="allowActionMetrics(c);" ng-click="openActionMetrics(d.state)">Action Metrics</a></li>
                                                                <li><a href="javascript:void(0);" ng-if="allowGenerateCollab(c);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
                                                            </ul>
                                                        </span>
                                                    </span>
                                                </div>
                                            </td>
                                            <td class="text-right" ng-if="!c.expanded"><span>{{c.dataSet[d][c.currentMonthIndex]}}</span></td>
                                            <td class="text-center" ng-repeat="e in c.dataSet[d] track by $index" ng-if="c.expanded">{{e}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--baljinderKaur - Added table for Renewal Rate Progression Financial Years-->
                            <div ng-show="c.expanded"  ng-if="c.viewType == 'list' && c.type == 'line_chart_rr' && c.expanded" class="marginT10 marginB10" ng-init="freezeHeader()">
                                <table class="table-scroll"ng-class= "{'waterfall-chart-table':c.viewType == 'list' && c.type == 'line_chart_rr' && c.expanded}" ng-init="setExcelData(c)">
                                    <thead>
                                        <tr>
                                            <th>Fiscal Qtr ID</th>
                                            <th ng-repeat="d in c.rr_categories" class="text-center">{{d}}</th>
                                        </tr>
                                    </thead>
                                    <tbody id="bottom-scroll">
                                        <tr ng-repeat="d in c.data_set">
                                            <td><span uib-tooltip="{{d.state}}"  tooltip-trigger="{{tooltiptrigger}}">{{d.state}}</span></td>
                                            <td ng-repeat="e in c.rr_categories" ng-click = "quarterToTableau(d,e)" ng-class="{'selected-data': ((d.state === e) && (d.state !== c.currentQuarter)), 'text-center': true, 'current-quarter': ((d.state === e) && (d.state === c.currentQuarter))}"><span ng-if="d.freq[e]" tooltip-class="realization-table-tooltip" uib-tooltip-html="'<h3 class=tooltip-title>{{d.state}} at {{e}} <span>{{opportunitiesActive == 'attach' ? 'AR' : 'RR'}}: {{d.freq[e].rr}}%</span></h3><span> {{c.rr_keys[0]}}: {{d.freq[e].values[0] | currency:'$':0}}</span><span> {{c.rr_keys[1]}}: {{d.freq[e].values[1] | currency:'$':0}}</span>'" tooltip-trigger="{{tooltipTrigger}}"><span class="numerator-fraction"><strong>{{d.freq[e].rr}}%</strong></span> <span class="denominator-fraction">(${{d.freq[e]['values'][0] | formatValue:false:false:true}} / ${{d.freq[e]['values'][1] | formatValue:false:false:true }})</span></span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="rotated-text" ng-show="((isListOrNet === 'list')?(c.categories?c.data[c.activeCategory].length:c.data.length):(c.categories?c.data_net[c.activeCategory].length:c.data_net.length)) && c.viewType == 'chart' && !c.isPercent && !c.type == 'line_chart_rr'">{{getValueLabel(c)}}</div>
                            <div class="rotated-text percentage" ng-show="c.viewType == 'chart' && c.isPercent && !c.type == 'line_chart_rr'">Value shown in Percentage</div>
                            <div class="rotated-text renewalRate" ng-show="c.viewType == 'chart' && c.type == 'line_chart_rr' && false">{{getValueLabel(c)}}</div>


                            <!--baljinderKaur - Added table for Renewal Rate Progression Graph Description-->
                            <div class="graph-desc-tbl marginT10 marginB10" ng-if="c.viewType == 'chart' && c.type == 'line_chart_rr' && c.expanded">
                                <table class="graph-desc" id="line_chart_rr_table">
                                    <thead>
                                    <tr>
                                        <td style="width:6%;" class="bold-header">Fiscal Qtr ID</td>
                                        <td style="width:8%;" class="bold-header">Details</td>
                                        <td style="width:10.5%;" class="bold-header text-right" ng-repeat="q in realizationXList">{{q}}</td>
                                        <td style="width:12.5%;"></td>
                                    </tr>
                                    </thead>
                                    <tbody ng-init = "getCheckedKeys(c);getQuarterFreqData(c)"  ng-repeat="d in checkedKeys">
                                    <tr style="background: {{(quartersDescColors[colorConfig[d]] == null) ? 'rgba(107,47,131,0.2)': quartersDescColors[colorConfig[d]]}}">
                                        <td style="width:6%;" class="bold-header">{{d}}</td>
                                        <td style="width:8%;" class="bold-header">{{opportunitiesActive == "attach" ? 'Attach Rate' : 'Renewal Rate'}}</td>
                                        <td style="width:10.5%;" class="text-right" ng-repeat="e in quarterFreqData[d]">{{e.rr != "" ? e.rr + '%':''}}</td>
                                        <td style="width:12.5%;"></td>
                                    </tr>
                                    <tr style="background: {{(quartersDescColors[colorConfig[d]] == null) ? 'rgba(107,47,131,0.2)': quartersDescColors[colorConfig[d]]}}">
                                        <td style="width:6%;" class="bold-header">&nbsp;</td>
                                        <td style="width:8%;" class="bold-header">{{opportunitiesActive == "attach" ? 'Service Sold' : 'Svc Renewed'}}</td>
                                        <td style="width:10.5%;" class="text-right" ng-repeat="e in quarterFreqData[d]">{{e.values[0] != "" ? (e.values[0] | currency:'$':0) : ''}}</td><td style="width:12.5%;"></td>
                                    </tr>
                                    <tr style="background: {{(quartersDescColors[colorConfig[d]] == null) ? 'rgba(107,47,131,0.2)': quartersDescColors[colorConfig[d]]}}">
                                        <td style="width:6%;" class="bold-header">&nbsp;</td>
                                        <td style="width:8%;" class="bold-header">{{opportunitiesActive == "attach" ? 'Total Service' : 'Renewal Base'}}</td>
                                        <td style="width:10.5%;" class="text-right" ng-repeat="e in quarterFreqData[d]">
                                            <span class="link" ng-click="changeToOpportunity(d)" ng-if="opportunitiesActive === 'renew'">{{e.values[1] != "" ? (e.values[1] | currency:'$':0) : ''}} </span>
                                            <span ng-if="opportunitiesActive !== 'renew'">{{e.values[1] != "" ? (e.values[1] | currency:'$':0) : ''}} </span>
                                        </td>
                                        <td style="width:12.5%;"></td>
                                    </tr>
                                    </tbody>
                                    <tr><td></td></tr>
                                </table>
                            </div>
                            <div class="clearfix bottom-msg" ng-if="showDataWarningText(c)">
                                <span class="pull-left table-unit">Data is displayed only for one Sales Level</span>
                            </div>
                        </div>
                    </div>
                        <!-- opportunity-tile -->
                    </div>
                    <!-- <div class="col-xs-12 col-sm-6 kpi kpi_999" ng-class="{'col-lg-4' : !sidebarActive && sidebarAnimated, 'col-lg-6' : sidebarActive}" style="visibility: hidden;">
                         <div class="opportunity-tile error-tile">
                             <div class="page-level-msg error">
                                 <div class="error-ico"><span class="ico-danger"><span class="path1"></span><span class="path2"></span></span>
                                     <img class="shadow-img" src="images/shadow.b8727004.svg" alt=""/></div>
                                 <span class="eror-msg"><span class="red"> Error!</span> Content not available</span>
                             </div>
                         </div>
                     </div>-->
                </div>
                <!-- row -->
                <div class="row" ng-show="$root.accessIssue == 'timeout'">
                    <div class="col-sm-12">
                        <div class="page-level-msg error">
                            <div class="error-ico">
                                <img class="timeout" src="images/timeout.fab0c1c1.svg" alt="" /></div>
                            <span class="error-msg">Time Out!</span>
                            <span class="grey-text">Your session has timed out due to inactivity.<br>Please click to Sign In again.</span>
                            <a href="" ng-click="logout()" class="button filled-btn blue"><span>Sign In</span></a>
                        </div>
                    </div>
                </div>
                <!--System down message starts here-->
                <div class="row" ng-show="$root.accessIssue == 'systemdown'">
                    <div class="col-sm-12">
                        <div class="page-level-msg error">
                            <div class="error-ico">
                                <img class="systemdown" src="images/systemdown.5a263923.svg" alt="" /></div>
                            <span class="error-msg">System is down for data updates!</span>
                            <span class="grey-text">Please check back after some time.</span>
                        </div>
                    </div>
                </div>
                <!--System down message ends here-->
                <!--No Data available message starts here-->
                <div class="row" ng-show="$root.accessIssue == 'nodata'">
                    <div class="col-sm-12">
                        <div class="page-level-msg error">
                            <div class="error-ico">
                                <img class="nodata" src="images/nodata.d25a050a.svg" alt="" /></div>
                            <span class="error-msg">No Data Available!</span>
                            <span class="grey-text">Currently, there is no data available for your selection.</span>
                            <span>You may want to review your filters.</span>
                            <a href="" class="button filled-btn blue" ng-click="sidebarActiveToggle(true);"><span>Review Filters</span></a>
                        </div>
                    </div>
                </div>
                <!--No Data available message ends here-->
                <!--No access error starts here-->
            <div class="row">
                <div class="col-sm-12"  ng-show="$root.accessIssue == 'noaccess'">
                    <div class="page-level-msg error no-access">
                        <div class="error-ico">
                            <img class="noaccess" src="images/noaccess.d98cf106.svg" alt="" /></div>
                        <span class="error-msg">No Access</span>
                        <span class="grey-text">You are not authorized to view this page. </span>
                        <span class="grey-text">For instructions on how to request access, </br>please visit the Cisco SalesConnect Access Guide webpage. </span>
                        <a class="link-text" target="_blank" href="https://www.cisco.com/c/dam/en/us/products/se/2017/4/Collateral/Cisco_Ready_Access_Guide.pdf">Enrollment Guide</a>
                        <a target="_blank" href="https://salesconnect.cisco.com/c/r/salesconnect/index.html#/content-detail/b5e2cb9a-25f3-4f59-9ae2-8ba3fe1326f5" class="button filled-btn blue"><span>For additional information - go to SalesConnect</span></a>
                    </div>
                </div>
            </div>
                <!--No access error ends here-->
                <div class="row">
                    <div class="col-md-12">
                        <div class="entire-network" ng-repeat="c in networkData" data-cat="{{c.title|lowercase}}">
                            <!-- yopgupta - Added lowercase filter for correct html selector -->
                            <h1>{{c.title}}</h1>
                            <div class="network-detail" ng-bind-html="c.content"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- tab-content -->
        </div>
        <!-- container -->
    </div>
    <!-- tabs main wrapper -->
    <div class="action_offset export"  >
        <ul class="dropdown-menu animated fadeIn"><i class="tipsy"></i>
            <li ng-if="allowContractDetails('')">
             <a ng-click="viewDetails($event,'contractdetails');" href="javascript:void(0)">Contract details</a></span> </li>
            <li ng-if="canViewDetails(c) && hasSalesLevel(5)&& !filtersServ.globalView"><a href="" ng-click="viewDetails($event)">Pipeline Details</a></li>
            <li ng-class="{'disabled':addUpgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'"  ng-click="getMcrEstimate('addUpgrade')">Create MCR Estimate (Add + Upgrade)</a></li>
            <li ng-class="{'disabled':upgrade}"><a href="javascript:void(0);" ng-if="opportunitiesActive == 'ciscoOne'" ng-click="getMcrEstimate('upgrade')">Create MCR Estimate (Upgrade)</a></li>
            <li ng-if="allowActionMetrics(c);"><a href="javascript:void(0);" ng-click="openActionMetrics($event)">Action Metrics</a></li>
            <li ng-if="allowGenerateCollab(c);"><a href="javascript:void(0);" ng-click="getPresentationProposalData($event)">Create Collab Presentation and Proposal</a></li>
            <li ng-if="allowContractDetails('') || hasSalesLevel(5)"><a id="click_area_text" href="javascript:void(0);"
            ng-click="CheckedArea($event)">Filter to this Customer</a></li>
        </ul></div>

        <form ng-hide="true" id="ciscoReadyForm" method="POST" target="_blank">
            <textarea class= "configUIRequest" name= "configUIRequest"></textarea>
        </form>


</div><!-- page-content-wrapper -->
</div><!-- wrapper -->