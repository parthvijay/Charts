/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
this.Sfdc||(Sfdc={});
if("undefined"===typeof SfdcFramework){var SfdcFramework=function(k,b){function x(a,c,d){var e=!1;b.isArray(d)&&(e=!r(d));m[a]={pending:e,name:a,ctr:c,dependencies:d};e?b.require(d,function(){var b=m[a];b&&(b.pending=!1);u(a)}):u(a)}function u(a){if(a in n){for(var c=n[a],d=[],e,f=0;f<c.length;f++)e=s[c[f]],r(e)&&d.push(c[f]);delete n[a];a=d}else a=[];if(b.isArray(a)&&0<a.length)for(c=0;c<a.length;c++)t(a[c],s[a[c]])}function t(a,c){var d=[];b.isArray(c)||(c=[]);for(var e,f,g=0;g<c.length;g++)(e=
m[c[g]])&&!e.pending&&(f=t(e.ctr,e.dependencies)),d.push(f);return a.apply(this,d)}function r(a){b.assert(b.isArray(a),"Required ModulesList is an Array");for(var c,d=0;d<a.length;d++)if(c=a[d],b.isEmpty(c)&&b.error("A specified ModuleName must be a non empty string"),c=m[c],!c||c.pending)return!1;return!0}b||(b={});var v=k.Sizzle,p=k.document,w=[],y=0,q=Object.prototype.toString,m={},s={},n={};b.isDebug=function(){var a=p&&(p.head||p.getElementsByTagName("head")[0]);return a&&"true"===a.getAttribute("debug")}();
b.userAgent=new function(){var a=k.navigator&&k.navigator.userAgent||"",b=-1!=a.indexOf("Chromium"),d=-1!=a.indexOf("AppleWebKit"),e=d&&-1!=a.indexOf("Chrome/"),f=d&&!e,g=-1!=a.indexOf("Firefox/"),h=-1!=a.indexOf("MSIE ")||-1!=a.indexOf("Trident/"),l=parseInt(a.split("MSIE")[1],10)||-1;h&&(-1==l&&-1!=a.indexOf("Trident/7.0"))&&(l=11);return{isIE:h,isIE11:h&&11==l,isIE10:h&&10==l,isIE9:h&&9==l,isIE8:h&&8==l,isIE7:h&&7==l,isIE6:h&&6==l,ieVersion:l,isWebkit:d,isChrome:e,isChromeFrame:e&&"undefined"!=
typeof k.externalHost,isChromium:b,isSafari:f,isSafari3:f&&-1!=a.indexOf("Version/3"),isSafariIpad:d&&-1!=a.indexOf("iPad"),isSafariIOS:f&&(-1!=a.indexOf("iPad")||-1!=a.indexOf("iPhone")),isFirefox:g,isFirefox3:g&&-1!=a.indexOf("Firefox/3"),isOpera:-1!=a.indexOf("Opera"),isNetscape:-1!=a.indexOf("Netscape/")}};b.ns=function(){for(var a=Array.prototype.slice.call(arguments),b=null;a.length;)for(var d=(a.shift()||"").toString().split("."),b=k;d.length;){var e=d.shift();if(!e.length)break;b[e]||(b[e]=
{});b=b[e]}return b};b.provide=function(a,c){if(a&&c){var d=b.resolve(a);if(!d){var e=a.split("."),d=e.pop(),e=b.ns(e.join("."));c.$constructor&&(b.assert(b.Class,"Sfdc.provide(): Sfdc.Class is required when providing $constructor 'classOrFunction' notation."),c=new b.Class(c));b.define(a,function(){return c});return e[d]=c}return d}};b.resolve=function(a,b){var d=b||k;if(void 0!=a&&a.length)for(var e=a.split(".");d&&e.length;)d=d[e.shift()];return void 0!=d?d:null};b.apply=function(a,b,d){if(d)for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e]);else for(var f in b)a.hasOwnProperty(f)||(a[f]=b[f]);return a};b.clone=function(a,c){c=!!c;if(!a)return a;var d=b.isArray(a),e=b.isObject(a);if(!d&&!e)return a;if(c){if(d)for(var d=[],f=0,e=a.length;f<e;f++)d.push(b.clone(a[f],!0));else for(f in d={},a)a.hasOwnProperty(f)&&(d[f]=b.clone(a[f],!0));return d}return d?a.slice():b.apply({},a)};b.each=function(a,c,d){b.assert(b.Array,"Sfdc.each(): Sfdc.Array is required for calls to Sfdc.each().");if(b.isArray(a))return b.Array.forEach(a,c,
d);if("length"in a)return b.Array.forEach(b.Array.toArray(a),c,d);b.error("You tried to iterate over an object that is not yet supported.");return null};b.onReady=function(a){b.assert(b.Dom,"Sfdc.onReady(): Sfdc.Dom is required for calls to Sfdc.onReady().");return b.Dom.onReady(a)};b.onload=function(a){b.assert(b.Dom,"Sfdc.onload(): Sfdc.Dom is required for calls to Sfdc.onload().");return b.Dom.onload(a)};b.isArray=function(a){return void 0===a||null===a?!1:"[object Array]"===q.call(a)};b.isObject=
function(a){return null!=a?"object"===typeof a&&!b.isArray(a):!1};b.isString=function(a){return"[object String]"===q.call(a)};b.isBoolean=function(a){return"[object Boolean]"===q.call(a)};b.isFunction=function(a){return"function"===typeof a};b.isNumber=function(a){return"[object Number]"===q.call(a)};b.select=function(a,c){b.assert(v,"Sfdc.select(): There is no selection engine specified.");return v(a,c)};b.get=function(a,c){if(!b.isString(a))return a;var d=p;if(/^[>\.#\\]/.test(a))return b.first(a,
c);c?d=c.getElementById?c:c.ownerDocument:c=d;d=d.getElementById(a);return null===d||d.getAttribute("id")===a?d:c.all?c.all[a]:null};b.first=function(a,c){return b.select(a,c)[0]||null};b.assert=function(a,c){if(void 0===a||null===a||!1===!!a)throw"error"in b&&b.error(c),Error(c);return a};b.isDefAndNotNull=function(a){return void 0!==a&&null!==a};b.on=function(a,c,d,e,f){b.assert(b.Event,"Sfdc.on(): Sfdc.Event is required to use Sfdc.on().");b.assert(a,"Sfdc.on(): 'element' must be a valid Object or Node.");
b.assert(c,"Sfdc.on(): 'eventName' must be a valid String.");b.Event.add(a,c,d,e,f);return b};b.un=function(a,c,d,e){b.assert(b.Event,"Sfdc.un(): Sfdc.Event is required to use Sfdc.un().");b.assert(a,"Sfdc.un(): 'element' must be a valid Object or Node.");b.assert(c,"Sfdc.un(): 'eventName' must be a valid String.");b.Event.remove(a,c,d,e);return b};b.getConst=function(a,c){b.assert(void 0!==k[a],"That Constants group does not exist.");return k[a][c]};b.getUID=function(a){if(a.getAttribute){var c=
a.getAttribute("data-uidSfdc");if(c)return c;c=b.newUID();a.setAttribute("data-uidSfdc",c);return c}return(c=a["data-uidSfdc"])?c:a["data-uidSfdc"]=b.newUID()};b.hasUID=function(a){return a?a.getAttribute?null!=a.getAttribute("data-uidSfdc"):a.hasOwnProperty?a.hasOwnProperty("data-uidSfdc"):"data-uidSfdc"in a:!1};b.newUID=function(){return++y};b.log=function(a,b,d){void 0!==a&&w.push({msg:a,level:b,args:d});return w};b.isEmpty=function(a){if(b.isObject(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;
return!0}return null===a||void 0===a||""===a||b.isArray(a)&&!a.length};b.inherits=function(a,c){if(!b.isFunction(a))throw Error("Sfdc.inherit(): 'type' must be a valid Function pointer.");for(var d=c;d;){if(a===d||d instanceof a||a===d.constructor)return!0;d=d.prototype}return!1};b.implies=function(a,c,d){if(!b.isObject(a))throw Error("Sfdc.implies(): 'contract' must be a valid Object.");if(null==c)return d&&(d.reason="Instance was undefined."),!1;var e=null,f=null,g;for(g in a){if(void 0===c[g])return d&&
(d.reason=b.String.format("Instance member not implemented. Expected: '{0}{1}'.",[g,b.isFunction(a[g])?b.String.format("({0})",[b.Function.getParameters(a[g]).join(", ")]):""])),!1;if(b.isFunction(a[g])){if(b.inherits(a[g],c[g]))continue;if(b.isFunction(c[g])&&b.isDebug&&(e=b.Function.getParameters(a[g]).join(", "),f=b.Function.getParameters(c[g]).join(", "),e!=f))return d&&(d.reason=b.String.format("Instance member signature mismatch on '{0}()'. Expected '{0}({1})', found '{0}({2})'.",[g,e,f])),
!1}if(b.isObject(a[g])){if(null!==c[g]&&!b.implies(a[g],c[g],d))return d&&(d.reason=b.String.format("Instance member type mismatch on '{0}': {1}",[g,d.reason])),!1}else if(typeof a[g]!==typeof c[g])return d&&(d.reason=b.String.format("Instance member type mismatch on '{0}'. Expected '{1}', found '{2}'.",[g,typeof a[g],typeof c[g]])),!1}return!0};b.isAssignableFrom=function(a,c,d){if(void 0==a)throw Error("Sfdc.isAssignableFrom(): 'type' must be a valid Function or Object.");if(void 0!=c)switch(typeof a){case "object":if(a.constructor!=
Object&&b.inherits(a.constructor,c)||b.implies(a,c,d))return!0;break;case "function":if(b.inherits(a,c))return!0}return!1};b.define=function(a,c,d){b.assert(b.isString(a)&&0<a.length,"ModuleName is required and must be a string of length greater than 0.");b.isFunction(c)?(d=c,c=null):(b.assert(b.isFunction(d),"ModuleConstructor parameter must be a function that returns an instance of the module."),b.assert(b.isArray(c),"Dependencies for your module must be specified as an Array."));var e=m[a];e?(c=
(e.dependencies||[]).toString()===(c||[]).toString(),(e.ctr.toString()!==d.toString()||!c)&&b.error("Cannot redefine an existing module ("+a+").")):x(a,d,c)};b.require=function(a,c){b.assert(!b.isEmpty(a),"Required Modules are required");b.isArray(a)||(a=Array.prototype.slice.call(arguments),c=a.pop());b.assert(b.isFunction(c),"Callback must be a function");if(r(a))t(c,a);else{var d=c,e=a;s[d]=e;for(var f,g,h=0;h<e.length;h++)if(f=e[h],g=m[f],!g||g.pending)!1===f in n&&(n[f]=[]),n[f].push(d)}};b.error=
function(a){throw Error(a);};return b};new SfdcFramework(this,Sfdc)};
Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,f=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),g=c.length;return function(b){if("object"!==typeof b&&"function"!==typeof b||null===b)throw new TypeError("Object.keys called on non-object");var d=[],a;for(a in b)e.call(b,a)&&d.push(a);if(f)for(a=0;a<g;a++)e.call(b,c[a])&&d.push(c[a]);return d}}());
(function(e){e.provide("Sfdc.Array",{indexOf:function(a,c){if(Array.prototype.indexOf)return a.indexOf(c);for(var b=a.length-1;0<=b;b--)if(a[b]===c)return b;return-1},toArray:function(a){if(!e.isDefAndNotNull(a))return[];for(var c=Array(a.length),b=0,d=a.length;b<d;b++)c[b]=a[b];return c},map:function(a,c,b){e.assert(e.isArray(a),"Must provide a valid non null array.");e.assert(e.isFunction(c),"A valid non null function must be supplied to operate on the array.");if(Array.prototype.map)return a.map(c,
b);for(var d=a.length,f=[],g=0;g<d;g++)g in a&&f.push(c.call(b,a[g]));return f},forEach:function(a,c,b){e.assert(e.isArray(a),"Must provide a valid non null array.");e.assert(e.isFunction(c),"A valid non null function must be supplied to operate on the array.");if(Array.prototype.forEach)return a.forEach(c,b);for(var d=0,f=a.length;d<f;d++)d in a&&c.call(b,a[d],d,a)},find:function(a,c,b){e.assert(e.isArray(a),"Must provide a valid non null array.");e.assert(e.isFunction(c),"A valid non null function must be supplied to operate on the array.");
for(var d=0,f=a.length;d<f;d++)if(d in a&&c.call(b,a[d],d))return a[d];return null}})})(Sfdc);
(function(e){function w(b,a,f,c,m){var h=q(a,c),d;for(d in h)if(!s.hasOwnProperty(d)){if(c[d])if(e.isFunction(c[d])){if("toString"!=d||!c[d].Documented)b[d]=t(c[d],a,f)}else b[d]=c[d];e.isFunction(h[d])&&(f[d]=r(h[d].bind(b),h[d]),m&&(a[d]=null,delete a[d]))}}function r(b,a){if(b&&void 0!=a){var f=b.toString.bind(b);b.toString=function(b){return!b?a+"":e.String.format("{0}\n\nOriginal:\n\n{1}",[a+"",f()])};b.toString.Documented=!0}return b}function x(b,a,f,c){c||(c={});for(var m in b)if(!s.hasOwnProperty(m)){var h=
b[m];e.isFunction(h)&&(h=t(h,a,f));c[m]&&c[m]!=s[m]?c[m]=h:a[m]=h}}function q(b,a){var f={},c;for(c in b)if(!a||a[c]!==b[c])f[c]=b[c];return f}function y(b,a,f,c){return t(b,a,r(function(){var b=q(f),e=q(a);a.parent&&(a.parent._instance=c);var d=f.apply(a,arguments);a.parent&&delete a.parent._instance;w(a,f,c,b,!0);w(a,a,c,e,!1);return d},f))}function t(b,a,f){return r(function(){a||(a=this);var c=a.parent;a.parent=f;var e=b.apply(a,arguments);a.parent=c;return e},b)}function z(b,a,f){b=function(){};
b.prototype=f&&f.prototype||a&&a.prototype;return new b}function A(b,a){b&&(a||(a=this),e.isFunction(b)&&(b=b.prototype),e.apply(a,b,!0))}var s={parent:!0,constructor:!0,prototype:!0,$constructor:!0,$decorators:!0,$extends:!0,$implements:!0};e.provide("Sfdc.Class",function(b,a){b||(b={});e.isFunction(b)&&(b={$constructor:b},void 0!=a&&(b.$extends=a));if(b.hasOwnProperty("$constructor")&&!e.isFunction(b.$constructor))throw Error("Sfdc.Class.ctor: '$constructor' must be a valid Function pointer.");
if(b.hasOwnProperty("$extends")&&!e.isFunction(b.$extends))throw Error("Sfdc.Class.ctor: '$extends' must be a valid Function pointer.");return function(a,c,m,h){function d(){var n=q(this),k=c?{}:null;x(a.prototype||a,this,k,n);var l=h;if(l){e.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++)A(l[p],this)}x(b,this,k);var l=d,p=k,u=q(this,n),g;for(g in u)if(!s.hasOwnProperty(g)&&u.hasOwnProperty(g)&&n.hasOwnProperty(g)){this[g]=n[g];var v=r(u[g].bind(this),u[g]);this.parent&&this.parent._instance&&(this.parent._instance[g]=
v);p&&(p[g]=v);l[g]=v}k=(c?y(a,this,c,k):t(a,this)).apply(this,arguments);if((g=m)&&this){e.isArray(g)||(g=[g]);n={};for(l=0;l<g.length;l++)e.implies(g[l],this,n)||e.assert(!1,n.reason)}this.constructor=d;if(void 0!==k){a:switch(typeof k){case "number":k=new Number(k);break a;case "string":k=new String(k);break a}return k}}a||(a=new Function);if(e.inherits(a,c))throw Error(e.String.format("Sfdc.Class.ctor:'$extends' is already in the inheritance chain of '$constructor'. '$constructor': {0}, $'expected': {1}.",
[a.toString(),c.toString()]));d.prototype=z(d,a,c);return r(d,a)}(b.$constructor,b.$extends,b.$implements,b.$decorators)})})(this.Sfdc);
Sfdc.provide("Sfdc.JSON",function(g){function k(a,b,f){if(g.isArray(a)){for(var c=f||[],e=0;e<a.length;e++)c.push(k(a[e],b));return c}if(g.isObject(a)){c=a.serId;if(void 0!==c)return a=a.value,e=g.isArray(a)?[]:{},b[c]=e,k(a,b,e);c=a.serRefId;if(void 0!==c)return b[c];c=f||{};for(e in a)a.hasOwnProperty(e)&&(c[e]=k(a[e],b));return c}return a}function m(a,b){var f=null,c=!1;if("string"!==typeof a||g.isEmpty(a))return f;if("undefined"!==typeof JSON&&JSON.parse)try{f=JSON.parse(a),c=!0}catch(e){}if(!c)try{f=
q(a)}catch(d){f=null}f&&b&&(f=k(f,{}));return f}var q=function(){var a,b,f={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c,e=function(b){throw{name:"SyntaxError",message:b,at:a,text:c};},d=function(p){p&&p!==b&&e("Expected '"+p+"' instead of '"+b+"'");b=c.charAt(a);a+=1;return b},g=function(){var a;a="";"-"===b&&(a="-",d("-"));for(;"0"<=b&&"9">=b;)a+=b,d();if("."===b)for(a+=".";d()&&"0"<=b&&"9">=b;)a+=b;if("e"===b||"E"===b){a+=b;d();if("-"===b||"+"===b)a+=b,d();for(;"0"<=b&&"9">=
b;)a+=b,d()}a=+a;if(isFinite(a))return a;e("Bad number")},k=function(){var a,c,l="",g;if('"'===b)for(;d();){if('"'===b)return d(),l;if("\\"===b)if(d(),"u"===b){for(c=g=0;4>c;c+=1){a=parseInt(d(),16);if(!isFinite(a))break;g=16*g+a}l+=String.fromCharCode(g)}else if("string"===typeof f[b])l+=f[b];else break;else l+=b}e("Bad string")},h=function(){for(;b&&" ">=b;)d()},m=function(){switch(b){case "t":return d("t"),d("r"),d("u"),d("e"),!0;case "f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case "n":return d("n"),
d("u"),d("l"),d("l"),null}e("Unexpected '"+b+"'")},n;n=function(){h();switch(b){case "{":var a;a:{var c={};if("{"===b){d("{");h();if("}"===b){d("}");a=c;break a}for(;b;){a=k();h();d(":");Object.hasOwnProperty.call(c,a)&&e('Duplicate key "'+a+'"');c[a]=n();h();if("}"===b){d("}");a=c;break a}d(",");h()}}e("Bad object");a=void 0}return a;case "[":a:{a=[];if("["===b){d("[");h();if("]"===b){d("]");break a}for(;b;){a.push(n());h();if("]"===b){d("]");break a}d(",");h()}}e("Bad array");a=void 0}return a;
case '"':return k();case "-":return g();default:return"0"<=b&&"9">=b?g():m()}};return function(d,f){var g;c=d;a=0;b=" ";g=n();h();b&&e("Syntax error");return"function"===typeof f?function r(a,b){var c,d,e=a[b];if(e&&"object"===typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=r(e,c),void 0!==d?e[c]=d:delete e[c]);return f.call(a,b,e)}({"":g},""):g}}();return{parseSafe:function(a,b){return m(a,b)},parse:function(a,b){return m(a,b)},parseWithCSRF:function(a,b){if(!g.isString(a))return null;
var f;a:{f=["while(1);\n","while(1);\n".replace("\n","")];for(var c=0,e=f.length;c<e;c++){var d=f[c];if(0===a.indexOf(d)){f=a.slice(d.length);break a}}g.assert(!1,"CSRF protect string not added to servlet response.");f=void 0}return m(f,b)},stringify:function(a,b,f){if("undefined"!==typeof JSON&&JSON.stringify){if(Array.prototype.toJSON){var c=Array.prototype,e=c.toJSON;delete c.toJSON;var d=JSON.stringify(a,b,f);c.toJSON=e;return d}return JSON.stringify(a,b,f)}if(void 0===a)return"";if(null===a)return"null";
switch(a.constructor){case String:return'"'+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"').replace(/\r|\n|\f/g,"\\n")+'"';case Array:c=[];for(e=0;e<a.length;e++)c.push(arguments.callee(a[e]));return"["+c.join(",")+"]";case Object:c=[];for(e in a)a.hasOwnProperty(e)&&c.push(arguments.callee(e)+":"+arguments.callee(a[e]));return"{"+c.join(",")+"}";default:return a.toString()}}}}(Sfdc));
Sfdc.provide("Sfdc.Logging",function(g){function l(a){if(!k){var b=g.Logging.LogLevel.GACK;try{var e=g.Logging.formatError(a);g.log(e.subject,b,e);g.logServer("WINDOWERROR",e,b)}catch(d){}}}function m(a,b){var e={msg:1,url:1,message:1,stack:1},d;for(d in b)if(b.hasOwnProperty(d)){var c=g.isFunction(b[d]),f=a.hasOwnProperty(d),h=e.hasOwnProperty(d);!c&&(!f&&!h)&&(a[d]=b[d])}}var k=!1;return{startWindowErrorListener:function(){if(window.onerror&&window.onerror.cache)for(var a=window.onerror.cache,b=
0,e=a.length;b<e;b++)l(a[b]);g.Function.wrap(window,"onerror",function(a,c,b){l({msg:a,url:c,lines:b})});g.Logging.startWindowErrorListener=function(){k=!1}},stopWindowErrorListener:function(){k=!0},formatError:function(a){var b={},e="("+window.location.pathname+") ";if(g.isString(a.msg))b.subject=e+a.msg,g.isDefAndNotNull(a.url)&&(e=a.url.split("/").pop(),b.trace=this._createTraceLine("","",e,a.lines)),m(b,a);else{var d=g.userAgent;try{var c=a.message,f=null;if(d.isFirefox)f=this._parseFFError(a.stack.split("\n"));
else if(d.isChrome)f=this._parseChromeError(a.stack.split("\n"));else if(d.isSafari)f=this._parseSafariError(a);else for(var f=[],h=arguments.callee.caller,d={};h;){if(!d[h]){f.push("Unable to trace caller past recursion entry point.");break}var k=h.toString(),l=k.substr(k.indexOf("function"),k.indexOf(")")+1);f.push(l);d[h]=!0;h=h.caller}b.subject=e+c;m(b,a);f&&(b.trace=f.join("\\n"))}catch(n){a.message&&(b.subject=e+a.message)}}return b},_parseFFError:function(a){for(var b=[],e=a.length,d=0;d<e;d++){var c=
a[d];if(c){var f=c.substring(0,c.indexOf("@")),c=c.split("/"),c=c[c.length-1],c=c.split(":");b.push(this._createTraceLine("",f,c[0],c[1]))}}return b},_parseChromeError:function(a){for(var b=[],e=a.length,d=0;d<e;d++){var c=g.String.trim(a[d]);if(c&&0===c.indexOf("at")){var f=["",""],c=c.split(" ");3===c.length&&(f=c[1].split("."));c=c[3===c.length?2:1].split("/");c=c[c.length-1].split(":");b.push(this._createTraceLine(f[0],f[1],c[0],c[1]))}}return b},_parseSafariError:function(a){var b=a.sourceURL.split("/");
return this._createTraceLine("","",b[b.length-1],a.line)},_createTraceLine:function(a,b,e,d){return[a,b,e,d].join(":")}}}(Sfdc));Sfdc.provide("Sfdc.Logging.LogLevel",{INFO:"INFO",WARNING:"WARNING",ERROR:"ERROR",GACK:"GACK"});
Sfdc.provide("Sfdc.String",function(d){function n(a){switch(a){case "'":return"\x26#39;";case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case '"':return"\x26quot;";case "\u00a9":return"\x26copy;";case "\u2028":return"\x3cbr\x3e";case "\u2029":return"\x3cp\x3e";default:return a}}return{capitalizationModes:{None:0,CamelCase:1,AfterControlCharacters:2,RemoveControlCharacters:4,ReplaceControlCharacters:8,ReduceWordBody:16},capitalize:function(a,b){var c=this.capitalizationModes;
d.isEmpty(b)&&(b=c.None);var e=b&c.CamelCase,f=b&c.RemoveControlCharacters,g=b&c.ReplaceControlCharacters,h=b&c.ReduceWordBody;return(a||"").replace(b&c.AfterControlCharacters||f||g?/(\s|(^[-_.]?)|[-_.])(\S)([^\s-_.]*)/g:/(\s|(^))(\S)(\S*)/g,function(a,b,c,d,m){a=""===b||c===b;f&&" "!==b?b="":g&&""!==b&&(b=" ");d=e&&a?d.toLowerCase():d.toUpperCase();h&&(m=m.toLowerCase());return b+d+m})},ltrim:function(a){return a&&a.replace(/^[\s\u0000-\u0020]*/,"")||""},rtrim:function(a){return a&&a.replace(/[\s\u0000-\u0020]*$/,
"")||""},trim:function(a){return a&&a.replace(/^[\s\u0000-\u0020]*|[\s\u0000-\u0020]*$/g,"")||""},dashify:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},decryptXOR:function(a,b){d.assert(d.isDefAndNotNull(b),"Key cannot be undefined or null");b=this.base64Decode(b,!1);for(var c=this.base64Decode(a,!1),e=[],f,g=0,h=c.length;g<h;g++)f=decodeURIComponent(String.fromCharCode(c.charCodeAt(g)^(b.charCodeAt(g)||0))),e.push(f);return e.join("")},toCamelCase:function(a){a=a.replace(/^-/g,
"").split("-");for(var b=1,c=a.length,e;b<c;b++)e=a[b],a[b]=e.charAt(0).toUpperCase()+e.substr(1);return a.join("")},getIntValue:function(a,b){if(0===b)throw Error("Radix not equal to 0 must be supplied");var c=parseInt(a,b||10);return isNaN(c)?0:c},format:function(a,b){return a.replace(/{([^{}]*)}/g,function(a,e){var f=!b.hasOwnProperty(e)&&-1<e.indexOf(".")?d.resolve(e,b):b[e];return"string"===typeof f||"number"===typeof f?f:a})},escapeToUTF8:function(a){for(var b="",c=0;c<a.length;){var e=a.charCodeAt(c++),
d;if(128>e)b+=String.fromCharCode(e);else if(191<e&&224>e)d=a.charCodeAt(c++),b+=String.fromCharCode((e&31)<<6|d&63);else{d=a.charCodeAt(c++);var g=a.charCodeAt(c++),b=b+String.fromCharCode((e&15)<<12|(d&63)<<6|g&63)}}return b},base64Decode:function(a,b){var c=[],e,f,g="",h,l="",k=0;a=a.replace(/[^A-Za-z0-9+/=]/g,"");do e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(k++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(k++)),
h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(k++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(k++)),e=e<<2|f>>4,f=(f&15)<<4|h>>2,g=(h&3)<<6|l,c.push(String.fromCharCode(e)),64!=h&&c.push(String.fromCharCode(f)),64!=l&&c.push(String.fromCharCode(g));while(k<a.length);return void 0===b||b?d.String.escapeToUTF8(c.join("")):c.join("")},escapeToHtml:function(a,b){if(null==a||""===a)return"";d.assert(a&&d.isString(a),
"Expected escapeToHtml(String input, Boolean escapeNewline)");d.assert(d.isBoolean(b||!1),"Expected escapeToHtml(String input, Boolean escapeNewline)");if(d.isEmpty(a))return a;var c=a.replace(/[&<>"'\u00a9\u2028\u2029]/g,n);b&&(c=c.replace(/\n/g,"\x3cbr\x3e"));return c},unescapeHtml:function(a,b){if(null===a)return"";d.assert(d.isDefAndNotNull(a)&&d.isString(a),"expected unescapeHtml(string input, boolean replaceBRwithNewline)");d.assert(d.isBoolean(b||!1),"expected unescapeHtml(string input, boolean replaceBRwithNewline)");
if(d.isEmpty(a))return a;var c=a.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#39;/g,"'").replace(/&copy;/g,"\u00a9").replace(/&amp;/g,"\x26");b&&(c=c.replace(/<br>/g,"\n").replace(/<br\/>/g,"\n"));return c}}}(Sfdc));
Sfdc.provide("SfdcApp.Visualforce.SObjectCRUD",{init:function(h,g){if(h.Base)Sfdc.log("Base model already exists in namespace. Cannot init again.",Sfdc.Logging.LogLevel.WARNING);else{var f=function(a,b){a?Sfdc.log(a.message,Sfdc.Logging.LogLevel.ERROR):Sfdc.log(b,Sfdc.Logging.LogLevel.INFO)},l=function(a,b){Sfdc.each(b,function(b){if(!Sfdc.isString(b)||b.slice(0,a.length)!=a||!(15===b.length||18===b.length))throw Error("Invalid id provided: "+b+" Expected value with prefix: "+a+" and length 15 or 18");
})},k=function(a,b){if(Object.keys(b).length)for(var c in a){var d=a[c];"object"===typeof d&&k(d,b);b[c]&&(a[b[c]]=d,delete a[c])}},m=function(a){var b={},c=Object.keys(a);c.length&&(b.where={},Sfdc.each(c,function(c){b.where[c]={eq:a[c]}}));return b};h.Base=new Sfdc.Class({$constructor:function(a,b,c){this._name=a;this._fields=b||{};this._fieldShorthands={};for(var d in b)b.hasOwnProperty(d)&&(a=b[d],a.shorthand&&(this._fieldShorthands[a.shorthand]=d));this._props={};c=c||{};for(var e in c)c.hasOwnProperty(e)&&
this.set(e,c[e])},_getKeyPrefix:function(){return""},set:function(a,b){var c=void 0==b;/^id$/i.test(a)&&(b?l(this._getKeyPrefix(),[b]):c=!0);a=this._fieldShorthands[a]||a;var d=this._fields[a];if(d&&d.type)switch(d.type){case "D":Sfdc.isNumber(b)&&(b=new Date(b),b=new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),0,0,0,0));break;case "F":case "f":Sfdc.isNumber(b)&&(b=new Date(b))}d=this.get(a);c?delete this._props[a]:this._props[a]=b;return d},get:function(a){a=this._fieldShorthands[a]||
a;return this._props[a]},_create:function(a,b){k(a,this._fieldShorthands);var c=this;$VFRM.Manager.invokeAction(this._overrides.create||g.create,this._name,a,function(a,e){c._handleCreateResult.call(c,a,e,b)})},create:function(a,b){0===arguments.length?this._create(this._props,f):1===arguments.length?Sfdc.isFunction(arguments[0])?this._create(this._props,arguments[0]):(b=f,this._create(a,f)):this._create(a,b)},_retrieve:function(a,b){var c=this;k(a,this._fieldShorthands);$VFRM.Manager.invokeAction(this._overrides.retrieve||
g.retrieve,this._name,Object.keys(this._fields),a,function(a,e){c._handleRetrieveResult.call(c,a,e,b)})},retrieve:function(a,b){if(0===arguments.length)throw Error("Callback is required for retrieve.");if(1===arguments.length){var c=arguments[0];if(Sfdc.isFunction(c))this._retrieve(m(this._props),c);else throw Error("Callback is required for retrieve.");}else if(Sfdc.isFunction(b))Sfdc.isFunction(a)&&(a=a.call(this)),this._retrieve(a,b);else throw Error("Callback is required for retrieve.");},_update:function(a,
b,c){l(this._getKeyPrefix(),a);k(b,this._fieldShorthands);var d=this;$VFRM.Manager.invokeAction(this._overrides.update||g.update,this._name,a,b,function(a,b){d._handleResult.call(d,a,b,c)})},update:function(a,b,c){var d,e;if(0===arguments.length)this._update([this.get("Id")],this._props,f);else if(1===arguments.length)if(d=arguments[0],Sfdc.isFunction(d))this._update([this.get("Id")],this._props,d);else if(Sfdc.isArray(d))this._update(a,this._props,f);else if(Sfdc.isObject(d))this._update([this.get("Id")],
d,f);else if(Sfdc.isString(d))this._update([d],this._props,f);else throw Error("Invalid arguments provided: "+Array.prototype.slice.call(arguments,0));else if(2===arguments.length)if(d=arguments[0],e=arguments[1],Sfdc.isArray(d)&&Sfdc.isObject(e))this._update(a,b,f);else if(Sfdc.isObject(d)&&Sfdc.isFunction(e))this._update([this.get("Id")],d,e);else if(Sfdc.isString(d)&&Sfdc.isObject(e))this._update([d],b,f);else throw Error("Invalid arguments provided: "+Array.prototype.slice.call(arguments,0));
else this._update(a,b,c)},upsert:function(a){if(0===arguments.length||!Sfdc.isFunction(arguments[0]))a=f;this.get("Id")?this.update(a):this.create(a)},_del:function(a,b){l(this._getKeyPrefix(),a);var c=this;$VFRM.Manager.invokeAction(this._overrides.del||g.del,this._name,a,function(a,e){c._handleResult.call(c,a,e,b)})},del:function(a,b){if(0===arguments.length)this._del([this.get("Id")],f);else if(1===arguments.length){var c=arguments[0];if(Sfdc.isFunction(c))this._del([this.get("Id")],c);else if(Sfdc.isArray(c))this._del(a,
f);else if(Sfdc.isString(c))this._del([c],f);else throw Error("Invalid arguments provided: "+Array.prototype.slice.call(arguments,0));}else if(Sfdc.isArray(a))this._del(a,b);else if(Sfdc.isString(a))this._del([a],b);else throw Error("Invalid arguments provided: "+Array.prototype.slice.call(arguments,0));},describe:function(a){if(0===arguments.length||!Sfdc.isFunction(arguments[0]))throw Error("Callback is required for describe.");var b=this;$VFRM.Manager.invokeAction(g.describe,this._name,function(c,
d){b._handleDescribeResult.call(b,c,d,a)})},_handleResult:function(a,b,c){var d=[],e=!0,g=[],h=[];Sfdc.isFunction(c)||(c=f);b.status?a?(d=a.multiple?a.results:[a],Sfdc.each(d,function(a){a.id&&h.push(a.id);a.success||(a.errors?g=g.concat(a.errors):g.push(a.error),e=!1)}),e?c(null,h,b):c(Error(g.join(";")),h,b)):c(Error("No result returned from server."),null,b):c(Error(b.message),null,b)},_handleCreateResult:function(a,b,c){var d=this;this._handleResult(a,b,function(a,b,f){!a&&b.length&&d.set("Id",
b[0]);Sfdc.isFunction(c)&&c(a,b,f)})},_handleRetrieveResult:function(a,b,c){var d=this;Sfdc.isFunction(c)||(c=f);if(b.status)if(a&&a.success){var e=[];if(0<a.size){var g=h[a.type];Sfdc.each(a.records,function(a){g?e.push(new g(a)):e.push(new h.Base(d._name,d._fields,d._props))})}c(null,e,b)}else c(Error(a&&a.error||"No result returned from server."),null,b);else c(Error(b.message),null,b)},_handleDescribeResult:function(a,b,c){b.status?a&&a.success?c(null,a.describe,b):c(Error(a&&a.error||"No result returned from server."),
null,b):c(Error(b.message),null,b)},log:function(){var a=Sfdc.String.format("{name} {props}",{name:this._name,props:Sfdc.JSON.stringify(this._props)});Sfdc.log(a);return a}})}},addModel:function(h,g,f,l,k,m){h[g]?Sfdc.log(g+" model already exists in namespace. Cannot create again.",Sfdc.Logging.LogLevel.WARNING):(h[g]=new Sfdc.Class({$extends:h.Base,$constructor:function(a){this.parent(g,l,a);this._overrides=m||{}},_getKeyPrefix:function(){return k}}),f&&(h[f]=h[g]))}});var $VFSOBJ=SfdcApp.Visualforce.SObjectCRUD;

//# sourceMappingURL=/javascript/1481879411000/sfdc/source/VFSObjectCrud.js.map
